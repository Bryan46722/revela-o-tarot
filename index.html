<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üîÆ Revelacao Tarot</title>
    
    <!-- Meta Pixel Code -->
    <script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};
    if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
    n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t,s)}(window, document,'script',
    'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '2180655539030241');
    fbq('track', 'PageView');
    </script>
    <noscript><img height="1" width="1" style="display:none"
    src="https://www.facebook.com/tr?id=2180655539030241&ev=PageView&noscript=1"
    /></noscript>
    <!-- End Meta Pixel Code -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600;700&family=Montserrat:wght@300;400;500;600&display=swap');
        
        :root {
            --primary: #7c2a90;
            --primary-dark: #572066;
            --secondary: #3e1b47;
            --accent: #ff9d00;
            --light: #f8f3ff;
            --dark: #1e0a29;
            --gradient: linear-gradient(135deg, #7c2a90, #2a1b47);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Montserrat', sans-serif;
            background-color: var(--dark);
            color: var(--light);
            line-height: 1.6;
            background-image: 
                radial-gradient(circle at 15% 50%, rgba(124, 42, 144, 0.1) 0%, transparent 30%),
                radial-gradient(circle at 85% 30%, rgba(76, 0, 112, 0.15) 0%, transparent 30%),
                url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MDAiIGhlaWdodD0iNTAwIj48ZmlsdGVyIGlkPSJub2lzZSIgeD0iMCIgeT0iMCI+PGZlVHVyYnVsZW5jZSB0eXBlPSJmcmFjdGFsTm9pc2UiIGJhc2VGcmVxdWVuY3k9IjAuNjUiIG51bU9jdGF2ZXM9IjMiIHN0aXRjaFRpbGVzPSJzdGl0Y2giLz48ZmVCbGVuZCBtb2RlPSJzY3JlZW4iLz48L2ZpbHRlcj48cmVjdCB3aWR0aD0iNTAwIiBoZWlnaHQ9IjUwMCIgZmlsdGVyPSJ1cmwoI25vaXNlKSIgb3BhY2l0eT0iMC4wNSIvPjwvc3ZnPg==');
            background-attachment: fixed;
            position: relative;
            overflow-x: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 800px;
            width: 100%;
            margin: 0 auto;
            position: relative;
        }
        
        .card {
            background: rgba(30, 10, 41, 0.85);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5), 
                        0 0 15px rgba(124, 42, 144, 0.3), 
                        0 0 30px rgba(76, 0, 112, 0.2);
            padding: 40px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(124, 42, 144, 0.3);
            position: relative;
            overflow: hidden;
            z-index: 1;
            animation: card-glow 6s infinite alternate;
        }
        
        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: var(--gradient);
            z-index: 2;
        }
        
        .card::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 50% 0%, rgba(124, 42, 144, 0.1), transparent 70%);
            z-index: -1;
        }
        
        @keyframes card-glow {
            0% { box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5), 0 0 15px rgba(124, 42, 144, 0.3), 0 0 30px rgba(76, 0, 112, 0.2); }
            100% { box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5), 0 0 20px rgba(155, 59, 180, 0.4), 0 0 40px rgba(124, 0, 186, 0.25); }
        }
        
        h1, h2, h3, h4 {
            font-family: 'Cormorant Garamond', serif;
            font-weight: 700;
            color: var(--light);
            text-align: center;
            margin-bottom: 30px;
        }
        
        h1 {
            font-size: 2.5rem;
            background: linear-gradient(to right, var(--accent), #f8f3ff, #b476cc);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-top: 0;
            text-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            animation: title-glow 3s infinite alternate;
        }
        
        @keyframes title-glow {
            0% { filter: drop-shadow(0 0 2px rgba(255, 157, 0, 0.4)); }
            100% { filter: drop-shadow(0 0 8px rgba(255, 157, 0, 0.7)); }
        }
        
        p {
            margin-bottom: 20px;
            font-size: 1.1rem;
            color: rgba(248, 243, 255, 0.9);
        }
        
        .option-group {
            margin: 30px 0;
        }
        
        .option {
            display: block;
            background: rgba(62, 27, 71, 0.5);
            border: 1px solid rgba(124, 42, 144, 0.3);
            padding: 15px 20px;
            margin-bottom: 10px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .option:hover, .option.selected {
            background: rgba(124, 42, 144, 0.3);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2), 0 0 10px rgba(124, 42, 144, 0.3);
        }
        
        .option.selected {
            border-color: rgba(255, 157, 0, 0.5);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2), 0 0 10px rgba(255, 157, 0, 0.3);
        }
        
        .option.selected::after {
            content: '‚ú®';
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--accent);
            text-shadow: 0 0 5px rgba(255, 157, 0, 0.5);
        }
        
        input[type="text"], 
        input[type="date"] {
            width: 100%;
            padding: 15px;
            margin-bottom: 20px;
            background: rgba(30, 10, 41, 0.6);
            border: 1px solid rgba(124, 42, 144, 0.3);
            border-radius: 8px;
            color: var(--light);
            font-size: 1rem;
            transition: all 0.3s ease;
        }
        
        input[type="text"]:focus, 
        input[type="date"]:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 10px rgba(255, 157, 0, 0.3);
        }
        
        .btn {
            display: block;
            width: 100%;
            max-width: 300px;
            margin: 30px auto 0;
            padding: 16px 30px;
            background: var(--gradient);
            color: var(--light);
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2), 0 0 10px rgba(124, 42, 144, 0.3);
            position: relative;
            overflow: hidden;
            text-align: center;
            text-decoration: none;
            z-index: 1;
        }
        
        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, 
                rgba(124, 42, 144, 0.8), 
                rgba(76, 0, 112, 0.8), 
                rgba(124, 42, 144, 0.8)
            );
            background-size: 200% 100%;
            animation: btn-gradient 8s linear infinite;
            z-index: -1;
        }
        
        .btn::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                transparent, 
                rgba(255, 255, 255, 0.1), 
                transparent
            );
            transform: rotate(30deg);
            transition: all 0.8s ease;
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3), 0 0 15px rgba(155, 59, 180, 0.5);
            color: white;
            text-shadow: 0 0 5px rgba(255, 255, 255, 0.5);
        }
        
        .btn:hover::after {
            left: 100%;
        }
        
        @keyframes btn-gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .step {
            display: none;
            animation: fadeIn 0.8s ease forwards;
        }
        
        .step.active {
            display: block;
        }
        
        .progress-container {
            width: 100%;
            height: 6px;
            background: rgba(62, 27, 71, 0.3);
            border-radius: 3px;
            margin: 0 0 30px;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background: var(--gradient);
            border-radius: 3px;
            transition: width 0.4s ease;
        }
        
        .tarot-cards {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 12px;
            margin: 40px 0;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .tarot-card {
            width: 90px;
            height: 140px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3), 0 0 8px rgba(124, 42, 144, 0.3);
            overflow: hidden;
            margin-bottom: 10px;
            animation: card-float 6s infinite alternate;
            background-size: cover;
            background-position: center;
            background-image: url('https://www.trustedtarot.com/img/cards/card-back.png');
        }
        
        .tarot-card.selected {
            border: 2px solid var(--accent);
            animation: pulse 1.5s infinite;
            box-shadow: 0 5px 20px rgba(255, 157, 0, 0.4), 0 0 15px rgba(255, 157, 0, 0.2);
            transform: translateY(-5px) rotate(0);
        }
        
        .tarot-card:hover {
            transform: translateY(-10px) rotate(2deg);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.4), 0 0 15px rgba(155, 59, 180, 0.4);
        }
        
        .tarot-card .card-name {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 5px;
            font-size: 9px;
            text-align: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .tarot-card.selected .card-name {
            opacity: 1;
        }
        
        .loading {
            text-align: center;
        }
        
        .loading-text {
            margin: 10px 0;
            font-style: italic;
            color: rgba(248, 243, 255, 0.7);
        }
        
        .spinner {
            display: inline-block;
            width: 50px;
            height: 50px;
            border: 3px solid rgba(248, 243, 255, 0.3);
            border-radius: 50%;
            border-top-color: var(--accent);
            animation: spin 1s ease-in-out infinite;
            margin-bottom: 20px;
        }
        
        .timer {
            text-align: center;
            margin-top: 20px;
            font-weight: 600;
        }
        
        /* Notifica√ß√µes de atividade */
        .activity-notification {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: rgba(30, 10, 41, 0.9);
            border-left: 3px solid var(--accent);
            border-radius: 5px;
            padding: 12px 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3), 0 0 10px rgba(124, 42, 144, 0.2);
            max-width: 320px;
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.5s ease;
            z-index: 1000;
            pointer-events: none;
        }
        
        .activity-notification.show {
            transform: translateY(0);
            opacity: 1;
        }
        
        .activity-notification .name {
            color: var(--accent);
            font-weight: 600;
        }
        
        .activity-notification p {
            margin: 0;
            font-size: 13px;
            line-height: 1.4;
        }
        
        .activity-notification .time {
            font-size: 11px;
            opacity: 0.7;
            margin-top: 4px;
        }
        
        .activity-dot {
            display: inline-block;
            width: 8px;
            height: 8px;
            background-color: #4CAF50;
            border-radius: 50%;
            margin-right: 5px;
            position: relative;
        }
        
        .activity-dot::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #4CAF50;
            border-radius: 50%;
            animation: pulse-dot 1.5s infinite;
        }
        
        @keyframes pulse-dot {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(2); opacity: 0; }
            100% { transform: scale(1); opacity: 0; }
        }
        
        /* Contador regressivo melhorado */
        .countdown-timer {
            background: rgba(30, 10, 41, 0.8);
            border: 2px solid rgba(255, 87, 34, 0.5);
            border-radius: 8px;
            padding: 15px 30px;
            display: inline-block;
            font-family: 'Montserrat', sans-serif;
            letter-spacing: 3px;
            box-shadow: 0 0 15px rgba(255, 87, 34, 0.5);
            animation: timer-glow 1.5s infinite alternate;
            font-size: 32px !important;
            margin-top: 15px;
        }
        
        @keyframes timer-glow {
            0% { box-shadow: 0 0 10px rgba(255, 87, 34, 0.6); text-shadow: 0 0 5px rgba(255, 87, 34, 0.6); }
            100% { box-shadow: 0 0 25px rgba(255, 87, 34, 0.9); text-shadow: 0 0 10px rgba(255, 87, 34, 0.9); }
        }
        
        .highlight {
            color: var(--accent);
            font-weight: 600;
        }
        
        .mystic-quote {
            font-family: 'Cormorant Garamond', serif;
            font-style: italic;
            text-align: center;
            margin: 20px auto;
            color: rgba(248, 243, 255, 0.7);
            position: relative;
            padding: 0 30px;
        }
        
        .mystic-quote::before,
        .mystic-quote::after {
            content: '"';
            position: absolute;
            font-size: 2rem;
            color: var(--accent);
            opacity: 0.5;
        }
        
        .mystic-quote::before {
            left: 0;
            top: -10px;
        }
        
        .mystic-quote::after {
            right: 0;
            bottom: -10px;
        }
        
        .payment-options {
            display: flex;
            justify-content: center;
            margin: 20px 0;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .payment-option {
            padding: 10px 20px;
            border: 1px solid rgba(124, 42, 144, 0.3);
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: rgba(62, 27, 71, 0.5);
        }
        
        .payment-option:hover,
        .payment-option.selected {
            background: rgba(124, 42, 144, 0.3);
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        @keyframes pulse {
            0% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.8; transform: scale(1.05); }
            100% { opacity: 1; transform: scale(1); }
        }

        .cosmic {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
            overflow: hidden;
        }
        
        .star {
            position: absolute;
            width: 2px;
            height: 2px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 50%;
            box-shadow: 0 0 4px 1px rgba(255, 255, 255, 0.7);
            animation: twinkle 4s infinite;
        }
        
        .star.bright {
            width: 3px;
            height: 3px;
            box-shadow: 0 0 8px 2px rgba(255, 236, 210, 0.8);
        }
        
        .star.medium {
            width: 2px;
            height: 2px;
            box-shadow: 0 0 6px 1px rgba(210, 255, 250, 0.7);
        }
        
        .shooting-star {
            position: absolute;
            width: 150px;
            height: 1px;
            transform: rotate(-45deg);
            background: linear-gradient(to right, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.4) 50%, rgba(255, 255, 255, 0) 100%);
            opacity: 0;
            animation: shooting 10s infinite;
            box-shadow: 0 0 10px 0 rgba(255, 255, 255, 0.5);
        }
        
        .nebula {
            position: absolute;
            border-radius: 50%;
            filter: blur(30px);
            opacity: 0.1;
            background: radial-gradient(circle, rgba(255, 140, 200, 0.2) 0%, rgba(80, 0, 100, 0.1) 50%, transparent 70%);
            animation: pulse-nebula 20s infinite alternate;
        }
        
        .nebula:nth-child(1) {
            top: 30%;
            left: 20%;
            width: 300px;
            height: 300px;
            animation-delay: 3s;
        }
        
        .nebula:nth-child(2) {
            bottom: 20%;
            right: 15%;
            width: 400px;
            height: 400px;
            background: radial-gradient(circle, rgba(140, 200, 255, 0.1) 0%, rgba(0, 50, 100, 0.08) 50%, transparent 70%);
            animation-delay: 7s;
        }
        
        .nebula:nth-child(3) {
            top: 50%;
            left: 60%;
            width: 350px;
            height: 350px;
            background: radial-gradient(circle, rgba(200, 140, 255, 0.12) 0%, rgba(50, 0, 100, 0.07) 50%, transparent 70%);
            animation-delay: 15s;
        }
        
        .glow {
            position: absolute;
            background: radial-gradient(circle, rgba(255, 210, 0, 0.05) 0%, transparent 70%);
            border-radius: 50%;
            width: 200px;
            height: 200px;
            animation: pulse-nebula 8s infinite alternate;
        }
        
        .cosmic-alignment {
            position: relative;
            width: 200px;
            height: 200px;
            margin: 30px auto;
        }
        
        .cosmic-circle {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background: rgba(30, 10, 41, 0.5);
            box-shadow: 0 0 30px rgba(124, 42, 144, 0.5);
            overflow: hidden;
            animation: cosmic-pulse 4s infinite alternate;
        }
        
        .cosmic-glow {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(255, 157, 0, 0.3) 0%, transparent 70%);
            animation: cosmic-glow 3s infinite alternate;
        }
        
        .cosmic-inner-circle {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: var(--gradient);
            animation: inner-spin 8s linear infinite;
        }
        
        .cosmic-symbol {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 50px;
            height: 50px;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="45" fill="none" stroke="white" stroke-width="2"/><circle cx="50" cy="25" r="8" fill="white"/><circle cx="50" cy="75" r="8" fill="white"/><circle cx="75" cy="50" r="8" fill="white"/><circle cx="25" cy="50" r="8" fill="white"/><path d="M50 5 L50 95 M5 50 L95 50" stroke="white" stroke-width="1" opacity="0.7"/></svg>');
            background-size: contain;
            background-repeat: no-repeat;
            animation: symbol-spin 12s linear infinite;
        }
        
        .cosmic-particles {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.5;
            background-image: 
                radial-gradient(circle at 20% 30%, rgba(255, 255, 255, 0.5) 0%, rgba(255, 255, 255, 0) 1px),
                radial-gradient(circle at 80% 20%, rgba(255, 255, 255, 0.5) 0%, rgba(255, 255, 255, 0) 1px),
                radial-gradient(circle at 40% 70%, rgba(255, 255, 255, 0.5) 0%, rgba(255, 255, 255, 0) 1px),
                radial-gradient(circle at 60% 50%, rgba(255, 255, 255, 0.5) 0%, rgba(255, 255, 255, 0) 1px),
                radial-gradient(circle at 70% 90%, rgba(255, 255, 255, 0.5) 0%, rgba(255, 255, 255, 0) 1px);
            background-size: 100% 100%;
            animation: particles-drift 15s infinite linear;
        }
        
        .loading-messages {
            text-align: center;
            margin: 20px 0;
            min-height: 60px;
            position: relative;
        }
        
        .loading-text {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            margin: 0 auto;
            font-size: 1.1rem;
            color: rgba(248, 243, 255, 0.9);
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.8s ease, transform 0.8s ease;
        }
        
        .loading-text.active {
            opacity: 1;
            transform: translateY(0);
        }
        
        .progress-mystic {
            width: 80%;
            height: 8px;
            margin: 30px auto;
            background: rgba(62, 27, 71, 0.3);
            border-radius: 4px;
            overflow: hidden;
            position: relative;
        }
        
        .progress-mystic-bar {
            height: 100%;
            width: 0%;
            background: linear-gradient(to right, #7c2a90, #ff9d00);
            position: relative;
            border-radius: 4px;
            transition: width 0.5s ease;
        }
        
        .progress-mystic-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to right, transparent, rgba(255, 255, 255, 0.5), transparent);
            animation: shimmer 2s infinite;
        }
        
        .cosmic-signs {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin-top: 30px;
            margin-bottom: 20px;
        }
        
        .zodiac-sign {
            font-size: 24px;
            opacity: 0.3;
            transition: all 0.5s ease;
            transform-origin: center;
            cursor: default;
        }
        
        .zodiac-sign.active {
            color: var(--accent);
            opacity: 1;
            transform: scale(1.5);
            text-shadow: 0 0 10px rgba(255, 157, 0, 0.7);
        }
        
        .mystic-revelation {
            text-align: center;
            margin: 30px 0;
            transform: translateY(20px);
            opacity: 0;
            transition: all 1.5s ease;
        }
        
        .mystic-revelation.show {
            transform: translateY(0);
            opacity: 1;
        }
        
        .continue-button {
            transition: opacity 1s ease;
        }
        
        /* Anima√ß√µes para a tela de carregamento m√≠stica */
        @keyframes cosmic-pulse {
            0% { transform: translate(-50%, -50%) scale(1); }
            100% { transform: translate(-50%, -50%) scale(1.1); }
        }
        
        @keyframes cosmic-glow {
            0% { opacity: 0.5; }
            100% { opacity: 1; }
        }
        
        @keyframes inner-spin {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }
        
        @keyframes symbol-spin {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(-360deg); }
        }
        
        @keyframes particles-drift {
            0% { background-position: 0 0; }
            100% { background-position: 100px 100px; }
        }
        
        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        @keyframes twinkle {
            0% { opacity: 0.3; }
            50% { opacity: 1; }
            100% { opacity: 0.3; }
        }
        
        @keyframes shooting {
            0% { 
                transform: translateX(-300px) translateY(300px) rotate(-45deg);
                opacity: 0;
            }
            1% { opacity: 1; }
            5% { 
                transform: translateX(300px) translateY(-300px) rotate(-45deg);
                opacity: 0;
            }
            100% { opacity: 0; }
        }
        
        @keyframes pulse-nebula {
            0% { opacity: 0.05; transform: scale(1); }
            50% { opacity: 0.12; transform: scale(1.05); }
            100% { opacity: 0.05; transform: scale(1); }
        }

        .hidden-message {
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.8s ease;
        }

        .hidden-message.show {
            opacity: 1;
            transform: translateY(0);
        }

        .magic-btn {
            position: relative;
            overflow: hidden;
            animation: glow 2s infinite alternate;
        }

        @keyframes glow {
            0% { box-shadow: 0 0 5px rgba(124, 42, 144, 0.5); }
            100% { box-shadow: 0 0 20px rgba(255, 157, 0, 0.8); }
        }

        /* Responsivo */
        @media (max-width: 768px) {
            .card {
                padding: 30px 20px;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .tarot-cards {
                flex-direction: row;
                flex-wrap: wrap;
                justify-content: center;
                gap: 8px;
            }
            
            .tarot-card {
                width: 70px;
                height: 110px;
                margin-bottom: 8px;
            }
        }

        /* Scrollbar estilizado */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: rgba(30, 10, 41, 0.6);
        }
        
        ::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: var(--accent);
        }
        
        .selected-tarot-cards {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 30px 0;
            flex-wrap: wrap;
        }
        
        .selected-card {
            text-align: center;
            transition: transform 0.3s ease;
        }
        
        .selected-card:hover {
            transform: translateY(-5px);
        }
        
        .selected-card img {
            width: 100px;
            height: auto;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
    </style>
</head>
<body>
    <div class="cosmic" id="stars">
        <div class="nebula"></div>
        <div class="nebula"></div>
        <div class="nebula"></div>
        <div id="shooting-stars"></div>
    </div>
    
    <div class="container">
        <div class="card">
            <div class="progress-container">
                <div class="progress-bar" id="progress"></div>
            </div>
            
            <!-- Etapa 1 - Nova pergunta inicial -->
            <div class="step active" id="step1">
                <h1>üîÆ Leitura Premium de Tarot</h1>
                <p>Bem-vindo(a) ao nosso portal m√≠stico de revela√ß√µes.</p>
                <p>Antes de come√ßarmos, preciso fazer uma pergunta importante:</p>
                
                <h3 style="text-align: center; margin: 30px 0; color: var(--accent);">
                    Voc√™ est√° passando por um momento dif√≠cil e precisa de orienta√ß√£o espiritual?
                </h3>
                
                <div class="option-group">
                    <div class="option" data-value="sim">‚ú® SIM - Preciso de orienta√ß√£o e clareza</div>
                    <div class="option" data-value="nao">‚ùå N√ÉO - Estou apenas curioso(a)</div>
                </div>
                
                <a href="#" class="btn next-btn" style="opacity: 0.5; pointer-events: none;">Continuar</a>
                
                <div class="hidden-message" id="message1">As energias j√° est√£o se alinhando para voc√™...</div>
            </div>
            
            <!-- Etapa 2 - Antiga etapa 1 -->
            <div class="step" id="step2">
                <h1>üîÆ Prepara√ß√£o Espiritual</h1>
                <p>Antes de come√ßarmos, feche os olhos por 5 segundos. Respire fundo.</p>
                <p>Sinta: existe algo que precisa ser revelado a voc√™ hoje?</p>
                
                <div class="option-group">
                    <div class="option" data-value="option1">Sim, algo est√° me incomodando h√° dias</div>
                    <div class="option" data-value="option2">Tenho d√∫vidas que n√£o consigo responder sozinho(a)</div>
                    <div class="option" data-value="option3">Sinto que o universo quer me dizer algo</div>
                    <div class="option" data-value="option4">N√£o sei explicar... mas algo precisa mudar</div>
                </div>
                
                <a href="#" class="btn next-btn">Prosseguir</a>
                
                <div class="hidden-message" id="message2">Voc√™ n√£o est√° aqui por acaso...</div>
            </div>
            
            <!-- Etapa 3 -->
            <div class="step" id="step3">
                <h2>Sintoniza√ß√£o Espiritual</h2>
                <p>Agora seja sincero(a)... como voc√™ tem se sentido nos √∫ltimos dias?</p>
                
                <div class="option-group">
                    <div class="option" data-value="option1">Cansado(a), mentalmente confuso(a)</div>
                    <div class="option" data-value="option2">Ansioso(a), como se algo estivesse prestes a acontecer</div>
                    <div class="option" data-value="option3">Em conflito com decis√µes que preciso tomar</div>
                    <div class="option" data-value="option4">Tentando encontrar paz interior</div>
                    <div class="option" data-value="option5">Sentindo que algo "desconectou"</div>
                </div>
                
                <p class="mystic-quote">Essa resposta ser√° enviada com base em sua vibra√ß√£o atual.</p>
                
                <a href="#" class="btn next-btn">Avan√ßar</a>
            </div>
            
            <!-- Etapa 4 -->
            <div class="step" id="step4">
                <h2>Escolha do Tema de Leitura</h2>
                <p>Qual aspecto da sua vida mais precisa de orienta√ß√£o neste momento?</p>
                
                <div class="option-group">
                    <div class="option" data-value="love">Amor (relacionamentos, reconcilia√ß√£o ou novo amor)</div>
                    <div class="option" data-value="career">Carreira e dinheiro</div>
                    <div class="option" data-value="spiritual">Caminho espiritual e autoconhecimento</div>
                    <div class="option" data-value="health">Sa√∫de energ√©tica e emocional</div>
                    <div class="option" data-value="family">Fam√≠lia, la√ßos e traumas</div>
                </div>
                
                <a href="#" class="btn next-btn">Pr√≥ximo</a>
            </div>
            
            <!-- Etapa 5 -->
            <div class="step" id="step5">
                <h2>Gatilho Emocional</h2>
                <p>Agora, com honestidade: o que mais te machuca em sil√™ncio?</p>
                
                <div class="option-group">
                    <div class="option" data-value="option1">Amar mais do que sou amado(a)</div>
                    <div class="option" data-value="option2">N√£o saber o que fazer com minha vida</div>
                    <div class="option" data-value="option3">Sempre dar certo para os outros, menos para mim</div>
                    <div class="option" data-value="option4">Medo de nunca realizar meus sonhos</div>
                    <div class="option" data-value="option5">Repetir ciclos que me sabotam</div>
                </div>
                
                <p class="mystic-quote">Essa resposta tocar√° diretamente onde voc√™ mais precisa.</p>
                
                <a href="#" class="btn next-btn">Prosseguir</a>
            </div>
            
            <!-- Etapa 6 -->
            <div class="step" id="step6">
                <h2>Nome Pr√≥prio e G√™nero</h2>
                <p>üìõ Qual o seu primeiro nome?</p>
                <input type="text" id="first-name" placeholder="Seu nome">
                
                <p>üß¨ Como devo me referir a voc√™?</p>
                <div class="option-group">
                    <div class="option" data-value="female">Mulher</div>
                    <div class="option" data-value="male">Homem</div>
                    <div class="option" data-value="other">Outro / Prefiro n√£o dizer</div>
                    <div class="option" data-value="name">Apenas me chame pelo nome</div>
                </div>
                
                <a href="#" class="btn next-btn">Continuar</a>
            </div>
            
            <!-- Etapa 7 -->
            <div class="step" id="step7">
                <h2>Data de Nascimento</h2>
                <p>üìÖ Qual sua data de nascimento completa?</p>
                <input type="date" id="birth-date">
                
                <p class="mystic-quote">Usamos sua vibra√ß√£o numerol√≥gica para destravar cartas que conversam com o seu momento de vida.</p>
                
                <a href="#" class="btn next-btn">Avan√ßar</a>
            </div>
            
            <!-- Etapa 8 -->
            <div class="step" id="step8">
                <h2>Estado Atual do Cora√ß√£o</h2>
                <p>E sobre seu cora√ß√£o... como ele est√° agora?</p>
                
                <div class="option-group">
                    <div class="option" data-value="option1">Em peda√ßos, tentando se reerguer</div>
                    <div class="option" data-value="option2">Confuso, sem saber quem amar</div>
                    <div class="option" data-value="option3">Esperan√ßoso por algo novo</div>
                    <div class="option" data-value="option4">Ligado(a) a algu√©m do passado</div>
                    <div class="option" data-value="option5">Feliz, mas curioso(a) com o futuro</div>
                </div>
                
                <p class="mystic-quote">Uma das cartas puxadas respondeu diretamente a isso.</p>
                
                <a href="#" class="btn next-btn">Avan√ßar</a>
            </div>
            
            <!-- Etapa 9 -->
            <div class="step" id="step9">
                <h2>Frase que mais te representa</h2>
                <p>Qual frase abaixo mais conversa com a sua alma neste exato momento?</p>
                
                <div class="option-group">
                    <div class="option" data-value="option1">"Se for pra ser, ser√°... mas por que demora tanto?"</div>
                    <div class="option" data-value="option2">"Eu s√≥ quero paz e clareza."</div>
                    <div class="option" data-value="option3">"Sinto que estou sendo guiado(a), mas n√£o entendo os sinais."</div>
                    <div class="option" data-value="option4">"Tenho medo de me entregar de novo."</div>
                    <div class="option" data-value="option5">"Chegou minha hora de despertar."</div>
                </div>
                
                <p class="mystic-quote">Essa escolha ativa a energia certa da leitura.</p>
                
                <a href="#" class="btn next-btn">Continuar</a>
            </div>
            
            <!-- Etapa 10 -->
            <div class="step" id="step10">
                <h2>Escolha intuitiva de 3 cartas</h2>
                <p>Agora escolha 3 cartas abaixo, seguindo a sua intui√ß√£o.</p>
                <p><small>(N√£o se preocupe, n√£o precisa saber o que significam.)</small></p>
                
                <div class="tarot-cards">
                    <!-- As cartas ser√£o carregadas dinamicamente pelo JavaScript -->
                </div>
                
                <p id="cardCounter" class="text-center">Cartas selecionadas: <span class="highlight">0</span>/3</p>
                
                <p class="mystic-quote">Baseado nas suas escolhas, as energias da leitura est√£o se revelando‚Ä¶</p>
                
                <a href="#" class="btn next-btn" disabled>Ver Resultado</a>
            </div>
            
            <!-- Etapa 11 -->
            <div class="step" id="step11">
                <h2>Preparando sua leitura personalizada</h2>
                
                <div class="cosmic-alignment">
                    <div class="cosmic-circle">
                        <div class="cosmic-particles"></div>
                        <div class="cosmic-glow"></div>
                        <div class="cosmic-inner-circle"></div>
                        <div class="cosmic-symbol"></div>
                    </div>
                </div>
                
                <div class="loading-messages">
                    <p class="loading-text active" id="loading-text-1">Conectando com seu campo energ√©tico...</p>
                    <p class="loading-text" id="loading-text-2">Alinhando as vibra√ß√µes c√≥smicas...</p>
                    <p class="loading-text" id="loading-text-3">Decodificando os padr√µes astrais da sua data de nascimento...</p>
                    <p class="loading-text" id="loading-text-4">Consultando os arquivos ak√°shicos...</p>
                    <p class="loading-text" id="loading-text-5">Sincronizando as cartas com seu destino...</p>
                    <p class="loading-text" id="loading-text-6">Revela√ß√µes importantes est√£o surgindo...</p>
                    <p class="loading-text" id="loading-text-7"><span class="highlight">As cartas est√£o falando claramente sobre seu futuro!</span></p>
                </div>
                
                <div class="progress-mystic">
                    <div class="progress-mystic-bar"></div>
                </div>
                
                <div class="cosmic-signs">
                    <div class="zodiac-sign" id="zodiac-1">‚ôà</div>
                    <div class="zodiac-sign" id="zodiac-2">‚ôâ</div>
                    <div class="zodiac-sign" id="zodiac-3">‚ôä</div>
                    <div class="zodiac-sign" id="zodiac-4">‚ôã</div>
                    <div class="zodiac-sign" id="zodiac-5">‚ôå</div>
                    <div class="zodiac-sign" id="zodiac-6">‚ôç</div>
                    <div class="zodiac-sign" id="zodiac-7">‚ôé</div>
                    <div class="zodiac-sign" id="zodiac-8">‚ôè</div>
                    <div class="zodiac-sign" id="zodiac-9">‚ôê</div>
                    <div class="zodiac-sign" id="zodiac-10">‚ôë</div>
                    <div class="zodiac-sign" id="zodiac-11">‚ôí</div>
                    <div class="zodiac-sign" id="zodiac-12">‚ôì</div>
                </div>
                
                <div class="mystic-revelation hidden-message" id="message11">
                    <p>O universo conspirou para este momento...</p>
                    <p>Suas escolhas revelaram padr√µes ocultos que poucos conseguem ver.</p>
                    <p>As cartas mostram claramente um <span class="highlight">caminho especial</span> para voc√™.</p>
                </div>
                
                <!-- Este bot√£o aparecer√° automaticamente ap√≥s a anima√ß√£o -->
                <div class="continue-button" style="text-align: center; margin-top: 30px; opacity: 0;">
                    <a href="#" class="btn magic-btn" id="continue-to-reading">REVELAR MINHA LEITURA AGORA</a>
                </div>
            </div>
            
            <!-- Etapa 12 -->
            <div class="step" id="step12">
                <h2>‚ú® Sua Leitura Est√° Pronta!</h2>
                
                <p>‚ö†Ô∏è <span class="highlight">Importante:</span> essa leitura foi canalizada <strong>especificamente para voc√™</strong>, com base nas suas respostas e vibra√ß√£o energ√©tica.</p>
                
                <p>Ela estar√° dispon√≠vel <strong>somente por 15 minutos</strong> para preservar a conex√£o espiritual gerada.</p>
                
                <p class="mystic-quote">Algumas pessoas relatam fortes emo√ß√µes ao ler... porque o Tarot toca onde ningu√©m v√™.</p>
                
                <p>üîì <strong>Para liberar sua leitura completa, finalize abaixo:</strong></p>
                
                <p><strong>Valor simb√≥lico: <span class="highlight">R$14,90</span></strong> (pagamento √∫nico)</p>
                
                <p class="mystic-quote">Essa pequena troca nos permite manter a integridade energ√©tica da leitura.</p>
                
                <a href="#" class="btn magic-btn" id="payment-btn">DESTRAVAR MINHA LEITURA AGORA</a>
                
                <div class="timer" id="countdown">
                    <div id="countdown-timer" class="countdown-timer">15:00</div>
                </div>
            </div>
            
            <!-- Etapa 13 -->
            <div class="step" id="step13">
                <p>Querido(a) <span id="user-name" class="highlight">Consulente</span>,</p>
                
                <div id="reading-content">
                    <!-- O conte√∫do ser√° preenchido dinamicamente com base nas escolhas do usu√°rio -->
                </div>
                
                <p>Com luz e prote√ß√£o,</p>
                <p><strong>Tarot M√≠stico</strong></p>
                
                <a href="#" class="btn" id="restart-btn">Refazer Leitura</a>
            </div>
        </div>
    </div>

    <div id="notification-container"></div>

    <script>
        // C√≥digo simples e direto que executa quando a p√°gina carrega
        document.addEventListener('DOMContentLoaded', function() {
            // Array com as cartas de tarot
            const tarotDeck = [
                { id: 1, name: "O Louco", image: "https://www.trustedtarot.com/img/cards/the-fool.png" },
                { id: 2, name: "O Mago", image: "https://www.trustedtarot.com/img/cards/the-magician.png" },
                { id: 3, name: "A Sacerdotisa", image: "https://www.trustedtarot.com/img/cards/the-high-priestess.png" },
                { id: 4, name: "A Imperatriz", image: "https://www.trustedtarot.com/img/cards/the-empress.png" },
                { id: 5, name: "O Imperador", image: "https://www.trustedtarot.com/img/cards/the-emperor.png" },
                { id: 6, name: "O Hierofante", image: "https://www.trustedtarot.com/img/cards/the-hierophant.png" },
                { id: 7, name: "Os Enamorados", image: "https://www.trustedtarot.com/img/cards/the-lovers.png" },
                { id: 8, name: "O Carro", image: "https://www.trustedtarot.com/img/cards/the-chariot.png" },
                { id: 9, name: "A For√ßa", image: "https://www.trustedtarot.com/img/cards/strength.png" },
                { id: 10, name: "O Eremita", image: "https://www.trustedtarot.com/img/cards/the-hermit.png" },
                { id: 11, name: "A Roda da Fortuna", image: "https://www.trustedtarot.com/img/cards/wheel-of-fortune.png" },
                { id: 12, name: "A Justi√ßa", image: "https://www.trustedtarot.com/img/cards/justice.png" },
                { id: 13, name: "O Enforcado", image: "https://www.trustedtarot.com/img/cards/the-hanged-man.png" },
                { id: 14, name: "A Morte", image: "https://www.trustedtarot.com/img/cards/death.png" },
                { id: 15, name: "A Temperan√ßa", image: "https://www.trustedtarot.com/img/cards/temperance.png" },
                { id: 16, name: "O Diabo", image: "https://www.trustedtarot.com/img/cards/the-devil.png" },
                { id: 17, name: "A Torre", image: "https://www.trustedtarot.com/img/cards/the-tower.png" },
                { id: 18, name: "A Estrela", image: "https://www.trustedtarot.com/img/cards/the-star.png" },
                { id: 19, name: "A Lua", image: "https://www.trustedtarot.com/img/cards/the-moon.png" },
                { id: 20, name: "O Sol", image: "https://www.trustedtarot.com/img/cards/the-sun.png" },
                { id: 21, name: "O Julgamento", image: "https://www.trustedtarot.com/img/cards/judgement.png" },
                { id: 22, name: "O Mundo", image: "https://www.trustedtarot.com/img/cards/the-world.png" }
            ];
            
            // Imagem do verso da carta (para mostrar antes da sele√ß√£o)
            const cardBackImage = "https://www.trustedtarot.com/img/cards/card-back.png";
            
            // Embaralhar as cartas para que sejam aleat√≥rias
            function shuffleDeck(deck) {
                const shuffled = [...deck];
                for (let i = shuffled.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
                }
                return shuffled;
            }
            
            // Embaralhar o baralho ao carregar a p√°gina
            const shuffledDeck = shuffleDeck(tarotDeck);
            
            // Criar estrelas no fundo
            const createStars = () => {
                const starsContainer = document.getElementById('stars');
                for (let i = 0; i < 100; i++) {
                    const star = document.createElement('div');
                    star.className = 'star';
                    star.style.top = `${Math.random() * 100}%`;
                    star.style.left = `${Math.random() * 100}%`;
                    star.style.animationDelay = `${Math.random() * 4}s`;
                    starsContainer.appendChild(star);
                }
            };
            
            // Chamar a fun√ß√£o para criar estrelas
            createStars();
            
            // Vari√°veis do estado
            let currentStep = 1;
            const totalSteps = 13;
            const userChoices = {
                qualificacao: '',
                theme: '',
                name: '',
                gender: '',
                birthDate: '',
                selectedCards: []
            };
            
            // Fun√ß√£o para salvar as escolhas do usu√°rio
            function saveUserChoices() {
                localStorage.setItem('tarotUserChoices', JSON.stringify(userChoices));
            }
            
            // CONTADOR DE TEMPO - come√ßa a contar apenas quando a etapa 12 estiver vis√≠vel
            function iniciarContador() {
                var contadorEl = document.getElementById('countdown-timer');
                if (!contadorEl) return;
                
                // Come√ßar com 15 minutos
                var minutos = 15;
                var segundos = 0;
                
                // Atualizar o contador a cada segundo
                var timerInterval = setInterval(function() {
                    // Diminuir o tempo
                    if (segundos === 0) {
                        if (minutos === 0) {
                            // Timer acabou
                            clearInterval(timerInterval);
                            contadorEl.textContent = "EXPIRADO";
                            contadorEl.style.color = "#ff0000";
                            return;
                        }
                        minutos--;
                        segundos = 59;
                    } else {
                        segundos--;
                    }
                    
                    // Atualizar o texto do contador
                    contadorEl.textContent = 
                        (minutos < 10 ? "0" + minutos : minutos) + ":" + 
                        (segundos < 10 ? "0" + segundos : segundos);
                    
                    // Mudar a cor nos √∫ltimos minutos
                    if (minutos === 0) {
                        contadorEl.style.color = "#ff0000";
                    }
                }, 1000);
            }
            
            // VERIFICAR QUAL ETAPA EST√Å ATIVA
            function verificarEtapaAtiva() {
                // Verificar se a etapa 12 est√° vis√≠vel
                var etapa12 = document.getElementById('step12');
                if (etapa12 && etapa12.classList.contains('active')) {
                    // Iniciar contador se n√£o estiver iniciado
                    if (!window.contadorIniciado) {
                        iniciarContador();
                        window.contadorIniciado = true;
                        
                        // Definir o hor√°rio de expira√ß√£o
                        setExpiryTime();
                        
                        // Iniciar notifica√ß√µes ap√≥s 2 segundos
                        setTimeout(function() {
                            iniciarNotificacoes();
                        }, 2000);
                    }
                }
            }
            
            // Verificar a cada segundo qual etapa est√° ativa
            setInterval(verificarEtapaAtiva, 1000);
            verificarEtapaAtiva(); // Verificar imediatamente tamb√©m
            
            // Lista de frases completas - 20 diferentes
            var todasFrases = [
                "Nossa, realmente muito profundo! Exatamente o que eu estava sentindo.",
                "Incr√≠vel como a leitura revelou coisas que ningu√©m sabia sobre mim!",
                "As cartas acertaram em cheio meu momento atual. Impressionante!",
                "Me emocionei com a precis√£o da leitura, obrigado(a)!",
                "Essa leitura mudou minha perspectiva sobre tudo. Valeu cada centavo!",
                "Melhor investimento que fiz nos √∫ltimos tempos. Revelador!",
                "Finalmente entendi o que estava bloqueando minha vida. Gratid√£o!",
                "Chorei ao ler... tocou pontos que ningu√©m nunca tinha percebido.",
                "Estou sem palavras com o quanto essa leitura foi precisa. 100% real.",
                "Nunca imaginei que uma leitura online pudesse ser t√£o profunda.",
                "A parte sobre meu relacionamento foi de uma precis√£o assustadora!",
                "J√° fiz v√°rias leituras antes, mas essa foi de longe a mais reveladora.",
                "Conseguiu identificar exatamente o que eu precisava ouvir neste momento.",
                "As recomenda√ß√µes da leitura j√° est√£o transformando minha vida.",
                "Estava c√©tica no in√≠cio, mas a leitura me convenceu completamente!",
                "Conseguiu explicar sentimentos que eu nem conseguia colocar em palavras.",
                "Vou seguir todos os conselhos da leitura, cada palavra fez sentido.",
                "Como voc√™ sabia tanto sobre meu passado? Impressionante!",
                "Meu caminho espiritual ficou muito mais claro depois dessa leitura.",
                "Senti uma energia incr√≠vel enquanto lia cada palavra. Muito obrigado(a)!"
            ];
            
            // Lista de nomes variados
            var todosNomes = [
                "Maria S.", "Carlos F.", "Ana L.", "Jo√£o P.", "Juliana R.",
                "Roberto M.", "Patricia N.", "Gustavo T.", "Fernanda C.", "Andr√© L.",
                "Luiza M.", "Ricardo T.", "Camila D.", "Bruno S.", "Amanda P.",
                "Luciana K.", "Felipe R.", "Beatriz M.", "Rafael S.", "Daniela V."
            ];
            
            // Array para rastrear frases j√° usadas
            var frasesUsadas = [];
            
            // INICIAR NOTIFICA√á√ïES - s√≥ √© chamada quando a etapa 12 estiver ativa
            function iniciarNotificacoes() {
                // Verificar se estamos na etapa 12
                var etapa12 = document.getElementById('step12');
                if (!etapa12 || !etapa12.classList.contains('active')) {
                    return; // N√£o mostrar notifica√ß√µes se n√£o estiver na etapa 12
                }
                
                // Fun√ß√£o para pegar uma frase n√£o usada
                function pegarFraseNaoUsada() {
                    // Filtrar frases ainda n√£o usadas
                    var frasesDisponiveis = todasFrases.filter(function(frase) {
                        return frasesUsadas.indexOf(frase) === -1;
                    });
                    
                    // Se todas j√° foram usadas, resetar
                    if (frasesDisponiveis.length === 0) {
                        frasesUsadas = [];
                        frasesDisponiveis = todasFrases;
                    }
                    
                    // Escolher uma frase aleat√≥ria dispon√≠vel
                    var indice = Math.floor(Math.random() * frasesDisponiveis.length);
                    var frase = frasesDisponiveis[indice];
                    
                    // Adicionar √† lista de usadas
                    frasesUsadas.push(frase);
                    
                    return frase;
                }
                
                // Fun√ß√£o para mostrar uma notifica√ß√£o
                function mostrarNotificacao() {
                    // Verificar novamente se ainda estamos na etapa 12
                    if (!document.getElementById('step12') || !document.getElementById('step12').classList.contains('active')) {
                        return;
                    }
                    
                    // Selecionar nome aleat√≥rio
                    var nome = todosNomes[Math.floor(Math.random() * todosNomes.length)];
                    
                    // Obter uma frase que n√£o foi usada recentemente
                    var frase = pegarFraseNaoUsada();
                    
                    // Criar elemento de notifica√ß√£o
                    var notif = document.createElement('div');
                    notif.className = 'activity-notification';
                    notif.innerHTML = '<div class="activity-dot"></div><p><span class="name">' + nome + '</span>: "' + frase + '"</p><p class="time">h√° alguns minutos</p>';
                    
                    // Adicionar √† p√°gina
                    var container = document.getElementById('notification-container');
                    if (container) {
                        container.appendChild(notif);
                    } else {
                        document.body.appendChild(notif);
                    }
                    
                    // Mostrar ap√≥s breve delay
                    setTimeout(function() {
                        notif.classList.add('show');
                    }, 100);
                    
                    // Remover ap√≥s alguns segundos
                    setTimeout(function() {
                        notif.classList.remove('show');
                        setTimeout(function() {
                            if (notif.parentNode) {
                                notif.parentNode.removeChild(notif);
                            }
                        }, 500);
                    }, 7000);
                }
                
                // Mostrar primeira notifica√ß√£o
                mostrarNotificacao();
                
                // Continuar mostrando a cada 10 segundos, verificando sempre se ainda estamos na etapa 12
                var notifInterval = setInterval(function() {
                    if (!document.getElementById('step12') || !document.getElementById('step12').classList.contains('active')) {
                        clearInterval(notifInterval); // Parar de mostrar notifica√ß√µes se n√£o estiver mais na etapa 12
                        return;
                    }
                    mostrarNotificacao();
                }, 10000);
            }
            
            // Atualizar barra de progresso
            const updateProgress = () => {
                const progressBar = document.getElementById('progress');
                const progressPercentage = (currentStep / totalSteps) * 100;
                progressBar.style.width = `${progressPercentage}%`;
            };
            
            // Mostrar mensagem oculta com atraso
            setTimeout(() => {
                const message1 = document.getElementById('message1');
                if (message1) message1.classList.add('show');
            }, 3000);
            
            // Inicializar as cartas de tarot quando chegar √† etapa 10
            function initTarotCards() {
                const tarotCardsContainer = document.querySelector('.tarot-cards');
                if (!tarotCardsContainer) return;
                
                // Limpar qualquer conte√∫do existente
                tarotCardsContainer.innerHTML = '';
                
                // Pegar as primeiras 12 cartas embaralhadas
                const displayCards = shuffledDeck.slice(0, 12);
                
                // Criar elementos para cada carta
                displayCards.forEach((card, index) => {
                    const cardElement = document.createElement('div');
                    cardElement.className = 'tarot-card';
                    cardElement.setAttribute('data-card', card.id);
                    cardElement.style.backgroundImage = `url(${cardBackImage})`;
                    
                    // Adicionar elemento para o nome da carta (inicialmente oculto)
                    const cardName = document.createElement('div');
                    cardName.className = 'card-name';
                    cardName.textContent = card.name;
                    cardElement.appendChild(cardName);
                    
                    // Adicionar √† grade de cartas
                    tarotCardsContainer.appendChild(cardElement);
                    
                    // Adicionar evento de clique
                    cardElement.addEventListener('click', function() {
                        handleCardSelection(this, card);
                    });
                });
            }
            
            // Fun√ß√£o para lidar com a sele√ß√£o de cartas
            function handleCardSelection(cardElement, cardData) {
                // Se j√° tiver 3 cartas selecionadas e esta carta n√£o estiver selecionada, n√£o faz nada
                if (userChoices.selectedCards.length >= 3 && !cardElement.classList.contains('selected')) {
                    alert('Voc√™ j√° selecionou 3 cartas. Para escolher outra, desmarque uma das selecionadas primeiro.');
                    return;
                }
                
                // Toggle de sele√ß√£o
                if (cardElement.classList.contains('selected')) {
                    // Desmarcar a carta
                    cardElement.classList.remove('selected');
                    // Voltar para a imagem do verso
                    cardElement.style.backgroundImage = `url(${cardBackImage})`;
                    
                    // Remover do array de selecionados
                    const cardId = cardData.id.toString();
                    const index = userChoices.selectedCards.findIndex(item => item.id === cardId);
                    if (index > -1) {
                        userChoices.selectedCards.splice(index, 1);
                    }
                } else {
                    // Marcar a carta
                    cardElement.classList.add('selected');
                    // Mostrar a imagem da frente da carta
                    cardElement.style.backgroundImage = `url(${cardData.image})`;
                    
                    // Adicionar ao array de selecionados com todos os dados da carta
                    userChoices.selectedCards.push({
                        id: cardData.id.toString(),
                        name: cardData.name,
                        image: cardData.image
                    });
                }
                
                // Atualizar contador
                const counter = document.getElementById('cardCounter');
                if (counter) {
                    const highlight = counter.querySelector('.highlight');
                    if (highlight) highlight.textContent = userChoices.selectedCards.length;
                }
                
                // Habilitar/desabilitar o bot√£o baseado no n√∫mero de cartas selecionadas
                const nextBtn = document.querySelector('#step10 .next-btn');
                if (nextBtn) {
                    if (userChoices.selectedCards.length === 3) {
                        nextBtn.removeAttribute('disabled');
                    } else {
                        nextBtn.setAttribute('disabled', 'disabled');
                    }
                }
            }
            
            // Selecionar op√ß√µes
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', function() {
                    // Remover sele√ß√£o pr√©via no mesmo grupo
                    const parent = this.parentElement;
                    parent.querySelectorAll('.option').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    
                    // Selecionar a op√ß√£o atual
                    this.classList.add('selected');
                    
                    // Armazenar escolha para qualifica√ß√£o (etapa 1)
                    if (currentStep === 1) {
                        userChoices.qualificacao = this.getAttribute('data-value');
                        
                        // Habilitar o bot√£o se uma op√ß√£o for selecionada
                        const nextBtn = document.querySelector('#step1 .next-btn');
                        if (nextBtn) {
                            nextBtn.style.opacity = '1';
                            nextBtn.style.pointerEvents = 'auto';
                        }
                        
                        // Se a pessoa escolher "N√ÉO", mostrar uma mensagem especial
                        if (this.getAttribute('data-value') === 'nao') {
                            setTimeout(() => {
                                const message = document.getElementById('message1');
                                if (message) {
                                    message.textContent = 'Tudo bem... mas que tal descobrir o que o universo tem para te dizer mesmo assim?';
                                    message.classList.add('show');
                                }
                            }, 1000);
                        } else {
                            setTimeout(() => {
                                const message = document.getElementById('message1');
                                if (message) message.classList.add('show');
                            }, 1000);
                        }
                    }
                    
                    // Armazenar escolha para tema (etapa 4)
                    if (currentStep === 4) {
                        userChoices.theme = this.getAttribute('data-value');
                    }
                    
                    // Armazenar escolha para g√™nero (etapa 6)
                    if (currentStep === 6) {
                        userChoices.gender = this.getAttribute('data-value');
                    }
                });
            });
            
            // Selecionar op√ß√µes de pagamento
            document.querySelectorAll('.payment-option').forEach(option => {
                option.addEventListener('click', function() {
                    document.querySelectorAll('.payment-option').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    this.classList.add('selected');
                });
            });
            
            // Fun√ß√£o para gerar um ID √∫nico para esta transa√ß√£o
            function generateTransactionId() {
                return 'tarot_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
            }
            
            // Bot√£o de pagamento com redirecionamento direto para Cakto
 // Bot√£o de pagamento com redirecionamento direto para Cakto
const paymentBtn = document.getElementById('payment-btn');
if (paymentBtn) {
    paymentBtn.addEventListener('click', function(e) {
        e.preventDefault();

        // ‚úÖ Disparar somente o evento de INICIALIZA√á√ÉO DE CHECKOUT
        if (typeof fbq !== 'undefined') {
            fbq('track', 'InitiateCheckout', {
                content_name: 'Leitura Premium de Tarot',
                value: 14.90,
                currency: 'BRL'
            });
        }

        // Salvar escolhas do usu√°rio antes de redirecionar
        saveUserChoices();

        // Redirecionar diretamente para o checkout da Cakto
        window.location.href = 'https://pay.cakto.com.br/ubs8ik4_397207';
    });
}

            
            // Fun√ß√£o para animar a tela de carregamento m√≠stica
            function animateMysticLoading() {
                const progressBar = document.querySelector('.progress-mystic-bar');
                const loadingTexts = document.querySelectorAll('.loading-text');
                const zodiacSigns = document.querySelectorAll('.zodiac-sign');
                const mysticRevelation = document.querySelector('.mystic-revelation');
                const continueButton = document.querySelector('.continue-button');
                
                // Fun√ß√£o para atualizar o texto de carregamento
                function updateLoadingText(index) {
                    // Ocultar o texto atual
                    document.querySelectorAll('.loading-text.active').forEach(el => {
                        el.classList.remove('active');
                    });
                    
                    // Mostrar o pr√≥ximo texto
                    if (loadingTexts[index]) {
                        loadingTexts[index].classList.add('active');
                    }
                }
                
                // Fun√ß√£o para ativar signos do zod√≠aco aleatoriamente
                function activateRandomZodiac() {
                    // Desativar todos os signos
                    zodiacSigns.forEach(sign => sign.classList.remove('active'));
                    
                    // Ativar 1-3 signos aleat√≥rios
                    const numSigns = Math.floor(Math.random() * 3) + 1;
                    const activatedIndices = new Set();
                    
                    while (activatedIndices.size < numSigns) {
                        const randomIndex = Math.floor(Math.random() * zodiacSigns.length);
                        activatedIndices.add(randomIndex);
                    }
                    
                    // Aplicar classe active nos selecionados
                    activatedIndices.forEach(index => {
                        zodiacSigns[index].classList.add('active');
                    });
                }
                
                // Iniciar a anima√ß√£o da barra de progresso
                let progress = 0;
                const progressInterval = setInterval(() => {
                    progress += 2;
                    if (progressBar) progressBar.style.width = `${progress}%`;
                    
                    // Ativar signos aleat√≥rios a cada 10%
                    if (progress % 10 === 0) {
                        activateRandomZodiac();
                    }
                    
                    // Atualizar texto de carregamento em pontos espec√≠ficos
                    if (progress === 10) updateLoadingText(1);
                    if (progress === 25) updateLoadingText(2);
                    if (progress === 40) updateLoadingText(3);
                    if (progress === 55) updateLoadingText(4);
                    if (progress === 70) updateLoadingText(5);
                    if (progress === 85) updateLoadingText(6);
                    
                    // Quando o progresso atingir 100%, mostrar a revela√ß√£o m√≠stica
                    if (progress >= 100) {
                        clearInterval(progressInterval);
                        updateLoadingText(6);
                        
                        // Ativar todos os signos do zod√≠aco
                        zodiacSigns.forEach(sign => sign.classList.add('active'));
                        
                        // Mostrar a revela√ß√£o final
                        setTimeout(() => {
                            if (mysticRevelation) mysticRevelation.classList.add('show');
                            
                            // Mostrar o bot√£o continuar
                            setTimeout(() => {
                                if (continueButton) {
                                    continueButton.style.opacity = '1';
                                }
                            }, 2000);
                        }, 1000);
                    }
                }, 200);
                
                // Iniciar a primeira mensagem de carregamento
                updateLoadingText(0);
            }
            
            // Fun√ß√£o para configurar o bot√£o "REVELAR MINHA LEITURA AGORA"
            function setupContinueToReadingButton() {
                const continueBtn = document.getElementById('continue-to-reading');
                if (continueBtn) {
                    continueBtn.addEventListener('click', function(e) {
                        e.preventDefault();
                        // Ir diretamente para a etapa 12 (Sua Leitura Est√° Pronta)
                        goToStep(12);
                    });
                }
            }
            
            // Bot√µes de pr√≥ximo passo
            document.querySelectorAll('.next-btn').forEach(btn => {
                btn.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // Valida√ß√µes espec√≠ficas por etapa
                    if (currentStep === 1) {
                        // Verificar se uma op√ß√£o foi selecionada na qualifica√ß√£o
                        if (!userChoices.qualificacao) {
                            alert('Por favor, escolha uma das op√ß√µes para continuar.');
                            return;
                        }
                    }
                    
                    if (currentStep === 6) {
                        // Verificar nome
                        const nameInput = document.getElementById('first-name');
                        if (!nameInput.value.trim()) {
                            alert('Por favor, digite seu nome para continuar.');
                            return;
                        }
                        userChoices.name = nameInput.value.trim();
                    }
                    
                    if (currentStep === 7) {
                        // Verificar data de nascimento
                        const dateInput = document.getElementById('birth-date');
                        if (!dateInput.value) {
                            alert('Por favor, informe sua data de nascimento para continuar.');
                            return;
                        }
                        userChoices.birthDate = dateInput.value;
                    }
                    
                    if (currentStep === 10) {
                        // Verificar se 3 cartas foram selecionadas
                        if (userChoices.selectedCards.length < 3) {
                            alert('Por favor, selecione 3 cartas para continuar.');
                            return;
                        }
                    }
                    
                    // Ocultar etapa atual
                    document.getElementById(`step${currentStep}`).classList.remove('active');
                    
                    // Mostrar pr√≥xima etapa
                    currentStep++;
                    document.getElementById(`step${currentStep}`).classList.add('active');
                    
                    // Se estamos entrando na etapa 10, inicializar as cartas
                    if (currentStep === 10) {
                        initTarotCards();
                    }
                    
                    // Se estamos entrando na etapa 11, iniciar a anima√ß√£o m√≠stica
                    if (currentStep === 11) {
                        animateMysticLoading();
                        // Configurar o bot√£o ap√≥s um pequeno delay
                        setTimeout(() => {
                            setupContinueToReadingButton();
                        }, 500);
                    }
                    
                    // Configura√ß√µes espec√≠ficas da etapa 12
                    if (currentStep === 12) {
                        // Disparar evento do Meta Pixel para "Iniciar Checkout"
                        if (typeof fbq !== 'undefined') {
                            fbq('track', 'InitiateCheckout', {
                                content_name: 'Leitura Premium de Tarot',
                                value: 14.90,
                                currency: 'BRL'
                            });
                        }
                        
                        // Iniciar contador e notifica√ß√µes
                        verificarEtapaAtiva();
                    }
                    
                    // Atualizar progresso
                    updateProgress();
                    
                    // Rolar para o topo
                    window.scrollTo(0, 0);
                });
            });
            
            // Fun√ß√£o para trocar etapas
            function goToStep(step) {
                // Ocultar etapa atual
                document.getElementById(`step${currentStep}`).classList.remove('active');
                
                // Mostrar pr√≥xima etapa
                currentStep = step;
                document.getElementById(`step${currentStep}`).classList.add('active');
                
                // Atualizar progresso
                updateProgress();
                
                // Rolar para o topo
                window.scrollTo(0, 0);
            }
            
            // Fun√ß√£o para configurar o timer de expira√ß√£o
            function setExpiryTime() {
                const now = new Date();
                now.setMinutes(now.getMinutes() + 30);
                const hours = now.getHours().toString().padStart(2, '0');
                const minutes = now.getMinutes().toString().padStart(2, '0');
                
                const expiryElement = document.getElementById('expiry-time');
                if (expiryElement) {
                    expiryElement.textContent = `${hours}:${minutes}`;
                }
                
                const expiryMessage = document.getElementById('expiry-message');
                if (expiryMessage) {
                    expiryMessage.innerHTML = `Oferta √∫nica ‚Äì leitura expira √†s <span style="color: #ff5722;">${hours}:${minutes}</span>`;
                }
            }
            
            // Fun√ß√£o para gerar leitura personalizada
            function generatePersonalizedReading() {
                try {
                    const readingContent = document.getElementById('reading-content');
                    if (!readingContent) return;
                    
                    // Nome do usu√°rio
                    const userName = userChoices.name || 'Consulente';
                    const userNameElement = document.getElementById('user-name');
                    if (userNameElement) userNameElement.textContent = userName;
                    
                    // Criar se√ß√£o para mostrar as cartas selecionadas
                    let cardsHtml = '<div class="selected-tarot-cards">';
                    
                    // Verificar se temos cartas selecionadas
                    if (userChoices.selectedCards && userChoices.selectedCards.length > 0) {
                        userChoices.selectedCards.forEach((card, index) => {
                            cardsHtml += `
                                <div class="selected-card">
                                    <img src="${card.image}" alt="${card.name}">
                                    <p style="margin-top: 10px; font-weight: bold;">${card.name}</p>
                                    <p>Carta ${index + 1}</p>
                                </div>
                            `;
                        });
                    } else {
                        // Fallback caso n√£o tenha cartas selecionadas
                        cardsHtml += '<p>Suas cartas m√≠sticas foram consultadas na leitura.</p>';
                    }
                    
                    cardsHtml += '</div>';
                    
                    // Leituras baseadas no tema
                    const themeReadings = {
                        'love': {
                            title: 'Amor e Relacionamentos',
                            intro: `Sua busca por conex√£o emocional genu√≠na est√° em destaque neste momento, ${userName}.`,
                            cards: [
                                'Sua primeira carta mostra uma energia de transforma√ß√£o no setor amoroso. Algu√©m do seu passado ainda ocupa espa√ßo significativo em seus pensamentos, e isso tem impedido novas conex√µes de florescerem plenamente.',
                                'A segunda carta revela que voc√™ tem medo de se entregar novamente, devido a experi√™ncias que te machucaram. Por√©m, h√° uma pessoa se aproximando (ou j√° em sua vida) que possui uma vibra√ß√£o muito compat√≠vel com a sua.',
                                'A terceira carta √© especialmente reveladora: voc√™ tende a dar mais do que recebe em relacionamentos. As cartas indicam que nos pr√≥ximos 90 dias, voc√™ ter√° a oportunidade de equilibrar esta troca, mas precisar√° ser honesto(a) sobre suas necessidades emocionais.'
                            ],
                            advice: 'Para atrair o amor verdadeiro, pare de procurar por ele. Foque em sua pr√≥pria cura e auto-aceita√ß√£o. Uma visualiza√ß√£o noturna de 5 minutos, imaginando-se envolvido(a) em luz rosa, ajudar√° a abrir seu cora√ß√£o chakra para atrair a energia amorosa que voc√™ merece.'
                        },
                        'career': {
                            title: 'Carreira e Dinheiro',
                            intro: `${userName}, as cartas indicam um per√≠odo de transi√ß√£o profissional importante chegando para voc√™.`,
                            cards: [
                                'A primeira carta revela um talento seu que est√° sendo subutilizado no trabalho atual. H√° uma oportunidade oculta relacionada a este dom natural, que surgir√° nos pr√≥ximos 4 meses.',
                                'A segunda carta mostra um ciclo financeiro em transforma√ß√£o. Voc√™ tem se preocupado com seguran√ßa material, mas as cartas indicam que uma nova fonte de renda est√° se abrindo - possivelmente relacionada a um hobby ou habilidade que voc√™ considera "apenas um passatempo".',
                                'A terceira carta traz um alerta: voc√™ tende a subestimar seu valor profissional. Este padr√£o energ√©tico est√° bloqueando sua prosperidade, e precisa ser trabalhado para que voc√™ atraia o reconhecimento financeiro merecido.'
                            ],
                            advice: 'Recomenda√ß√£o especial das cartas: escreva em um papel todas as suas qualidades profissionais e leia em voz alta todas as manh√£s. Este ritual quebrar√° o padr√£o limitante e abrir√° o caminho para sua verdadeira prosperidade.'
                        },
                        'spiritual': {
                            title: 'Caminho Espiritual',
                            intro: `${userName}, sua jornada espiritual est√° em um ponto crucial de expans√£o e ilumina√ß√£o.`,
                            cards: [
                                'A primeira carta revela uma conex√£o especial com guias espirituais que t√™m tentado se comunicar com voc√™ atrav√©s de sinais, sonhos e coincid√™ncias. Voc√™ tem notado estes sinais, mas ainda duvida de sua autenticidade.',
                                'A segunda carta mostra um dom intuitivo extraordin√°rio que voc√™ possui desde a inf√¢ncia, mas que foi reprimido por influ√™ncias externas. Este dom est√° pronto para despertar completamente agora.',
                                'A terceira carta indica um prop√≥sito espiritual espec√≠fico para sua vida: voc√™ veio para ajudar outros no processo de cura emocional. As experi√™ncias dif√≠ceis que voc√™ viveu foram prepara√ß√£o para esta miss√£o.'
                            ],
                            advice: 'A recomenda√ß√£o das cartas √© clara: dedique 10 minutos di√°rios √† medita√ß√£o silenciosa, prestando aten√ß√£o aos pensamentos que surgem espontaneamente. Anote-os em um di√°rio espiritual. Em breve, padr√µes importantes ser√£o revelados, guiando seu pr√≥ximo passo evolutivo.'
                        },
                        'health': {
                            title: 'Sa√∫de Energ√©tica e Emocional',
                            intro: `${userName}, as cartas mostram um profundo processo de cura emocional acontecendo em seu campo energ√©tico.`,
                            cards: [
                                'A primeira carta revela bloqueios emocionais localizados principalmente na regi√£o do plexo solar, relacionados a experi√™ncias de desvaloriza√ß√£o no passado. Estas energias estagnadas podem estar se manifestando como ansiedade ou problemas digestivos.',
                                'A segunda carta mostra uma necessidade urgente de reconex√£o com a natureza. Seu corpo et√©rico est√° pedindo mais contato com elementos naturais - especialmente √°gua e terra - para reequilibrar seu sistema energ√©tico.',
                                'A terceira carta traz uma revela√ß√£o importante: h√° um padr√£o de autocr√≠tica excessiva que est√° drenando sua vitalidade. Esta energia negativa dirigida a si mesmo(a) √© mais prejudicial do que voc√™ imagina.'
                            ],
                            advice: 'As cartas recomendam um ritual de purifica√ß√£o: por 21 dias, antes de dormir, visualize uma luz dourada descendo do c√©u, entrando pelo topo de sua cabe√ßa e percorrendo todo seu corpo, dissolvendo bloqueios emocionais. Este simples exerc√≠cio trar√° profunda transforma√ß√£o em seu campo energ√©tico.'
                        },
                        'family': {
                            title: 'Fam√≠lia e Rela√ß√µes Familiares',
                            intro: `${userName}, as cartas revelam padr√µes familiares importantes que est√£o influenciando sua vida atual.`,
                            cards: [
                                'A primeira carta mostra um padr√£o ancestral sendo repetido em sua vida - comportamentos ou cren√ßas limitantes que foram passados por gera√ß√µes em sua fam√≠lia, e que agora voc√™ tem a oportunidade de transformar.',
                                'A segunda carta revela uma conex√£o especial com um antepassado feminino (possivelmente sua av√≥ ou bisav√≥) que est√° atuando como guia espiritual para voc√™, especialmente em momentos de decis√µes importantes.',
                                'A terceira carta indica um relacionamento familiar que precisa de cura e perd√£o. Esta rela√ß√£o incompleta est√° drenando sua energia, mesmo que voc√™ n√£o perceba conscientemente.'
                            ],
                            advice: 'A recomenda√ß√£o das cartas √© poderosa: escreva uma carta dirigida √† pessoa com quem voc√™ precisa fazer as pazes (mesmo que ela j√° tenha partido), expressando tudo o que ficou por dizer. Depois, queime o papel e visualize as cinzas transformando-se em luz. Este ritual libertar√° tanto voc√™ quanto o outro esp√≠rito.'
                        }
                    };
                    
                    // Usar o tema escolhido ou um padr√£o
                    const theme = userChoices.theme || 'spiritual';
                    const readingData = themeReadings[theme] || themeReadings.spiritual;
                    
                    // Personalizar baseado na carta escolhida
                    let personalizedContent = '';
                    
                    // Adicionar t√≠tulo e introdu√ß√£o
                    personalizedContent += `<h3>${readingData.title}</h3>`;
                    personalizedContent += `<p>${readingData.intro}</p>`;
                    
                    // Adicionar interpreta√ß√£o das cartas
                    for (let i = 0; i < readingData.cards.length; i++) {
                        personalizedContent += `<p>${readingData.cards[i]}</p>`;
                    }
                    
                    // Adicionar elementos baseados na data de nascimento (se fornecida)
                    if (userChoices.birthDate) {
                        const birthDate = new Date(userChoices.birthDate);
                        const day = birthDate.getDate();
                        
                        // Personaliza√ß√£o baseada no dia do nascimento
                        if (day <= 10) {
                            personalizedContent += `<p>Seu dia de nascimento indica uma forte conex√£o com o elemento √Ågua, que representa intui√ß√£o e emo√ß√£o. Isso explica sua sensibilidade agu√ßada e capacidade de sentir o que os outros est√£o sentindo.</p>`;
                        } else if (day <= 20) {
                            personalizedContent += `<p>Seu dia de nascimento revela uma forte conex√£o com o elemento Fogo, o que explica sua natureza apaixonada e sua capacidade de inspirar os outros com seu entusiasmo natural.</p>`;
                        } else {
                            personalizedContent += `<p>Seu dia de nascimento mostra uma forte conex√£o com o elemento Terra, o que explica sua praticidade e capacidade de manifestar resultados concretos em sua vida.</p>`;
                        }
                        
                        personalizedContent += `<p class="mystic-quote">Quando conectamos estas tr√™s cartas com sua data de nascimento, um padr√£o emerge. Voc√™ est√° no in√≠cio de um ciclo de 7 anos que promete abund√¢ncia e realiza√ß√£o, mas apenas se voc√™ enfrentar seus medos mais profundos.</p>`;
                    }
                    
                    // Adicionar conselhos espec√≠ficos
                    personalizedContent += `<p><strong>Recomenda√ß√£o especial das cartas:</strong> ${readingData.advice}</p>`;
                    
                    // Adicionar conclus√£o
                    personalizedContent += `<p>Lembre-se: voc√™ n√£o chegou at√© aqui por acaso. As sincronicidades que te trouxeram at√© esta leitura s√£o parte de um plano maior.</p>`;
                    
                    // Adicionar o HTML das cartas antes da interpreta√ß√£o
                    personalizedContent = cardsHtml + '<h3>' + readingData.title + '</h3>' + personalizedContent;
                    
                    // Inserir o conte√∫do personalizado
                    readingContent.innerHTML = personalizedContent;
                } catch (error) {
                    console.error('Erro ao gerar leitura personalizada:', error);
                    
                    // Conte√∫do de fallback em caso de erro
                    const readingContent = document.getElementById('reading-content');
                    if (readingContent) {
                        readingContent.innerHTML = `
                            <p>As cartas revelaram um caminho espiritual profundo para voc√™, especialmente relacionado com seu tema escolhido.</p>
                            <p>Sua primeira carta mostra que voc√™ est√° em um momento de transi√ß√£o importante. H√° energias poderosas ao seu redor que indicam mudan√ßas significativas nas pr√≥ximas semanas.</p>
                            <p>A segunda carta revela algo surpreendente: voc√™ possui uma sensibilidade intuitiva extraordin√°ria que tem sido bloqueada por experi√™ncias passadas. √â hora de confiar mais nos seus instintos.</p>
                            <p>A terceira carta traz uma mensagem clara: <span class="highlight">n√£o permita que o medo do desconhecido impe√ßa seu avan√ßo</span>. O universo est√° conspirando a seu favor, mesmo quando voc√™ n√£o consegue enxergar.</p>
                            <p class="mystic-quote">Os padr√µes que te limitaram no passado come√ßar√£o a se dissolver na pr√≥xima lua cheia.</p>
                        `;
                    }
                }
            }
            
            // Bot√£o de reiniciar
            const restartBtn = document.getElementById('restart-btn');
            if (restartBtn) {
                restartBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    // Resetar estado
                    currentStep = 1;
                    userChoices.selectedCards = [];
                    userChoices.theme = '';
                    
                    // Remover sele√ß√µes
                    document.querySelectorAll('.option, .tarot-card, .payment-option').forEach(el => {
                        el.classList.remove('selected');
                    });
                    
                    // Resetar inputs
                    const firstNameInput = document.getElementById('first-name');
                    if (firstNameInput) firstNameInput.value = '';
                    
                    const birthDateInput = document.getElementById('birth-date');
                    if (birthDateInput) birthDateInput.value = '';
                    
                    // Voltar para primeira etapa
                    goToStep(1);
                });
            }
            
            // Para bot√µes de navega√ß√£o - garantir que as fun√ß√µes sejam chamadas ao mudar de etapa
            document.querySelectorAll('.next-btn').forEach(function(btn) {
                btn.addEventListener('click', function() {
                    // Um pequeno delay para dar tempo da nova etapa estar ativa
                    setTimeout(verificarEtapaAtiva, 500);
                });
            });
            
            // Verificar se o usu√°rio est√° retornando de um pagamento
            const urlParams = new URLSearchParams(window.location.search);
            const checkPayment = urlParams.get('check_payment');
            
            if (checkPayment) {
                // Recuperar as escolhas do usu√°rio
                const savedChoices = localStorage.getItem('tarotUserChoices');
                
                if (savedChoices) {
                    // Restaurar as escolhas do usu√°rio
                    Object.assign(userChoices, JSON.parse(savedChoices));
                    
                    // Ir diretamente para a leitura (etapa 13)
                    goToStep(13);
                    generatePersonalizedReading();
                }
            }
            
            // Inicializar progresso
            updateProgress();
        });
    </script>
</body>
</html> "