<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🔮 Revelação Tarot - Descubra Seu Destino AGORA</title>
    
    <!-- Meta Pixel Code -->
    <script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};
    if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
    n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t,s)}(window, document,'script',
    'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '2180655539030241');
    fbq('track', 'PageView');
    </script>
    <noscript><img height="1" width="1" style="display:none"
    src="https://www.facebook.com/tr?id=2180655539030241&ev=PageView&noscript=1"
    /></noscript>
    <!-- End Meta Pixel Code -->
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600;700&family=Montserrat:wght@300;400;500;600;700&display=swap');
        
        :root {
            --primary: #7c2a90;
            --primary-dark: #572066;
            --secondary: #3e1b47;
            --accent: #ff9d00;
            --light: #f8f3ff;
            --dark: #1e0a29;
            --gradient: linear-gradient(135deg, #7c2a90, #2a1b47);
            --gold: #ffd700;
            --danger: #ff4757;
            --success: #2ed573;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Montserrat', sans-serif;
            background-color: var(--dark);
            color: var(--light);
            line-height: 1.6;
            background-image: 
                radial-gradient(circle at 15% 50%, rgba(124, 42, 144, 0.1) 0%, transparent 30%),
                radial-gradient(circle at 85% 30%, rgba(76, 0, 112, 0.15) 0%, transparent 30%),
                url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MDAiIGhlaWdodD0iNTAwIj48ZmlsdGVyIGlkPSJub2lzZSIgeD0iMCIgeT0iMCI+PGZlVHVyYnVsZW5jZSB0eXBlPSJmcmFjdGFsTm9pc2UiIGJhc2VGcmVxdWVuY3k9IjAuNjUiIG51bU9jdGF2ZXM9IjMiIHN0aXRjaFRpbGVzPSJzdGl0Y2giLz48ZmVCbGVuZCBtb2RlPSJzY3JlZW4iLz48L2ZpbHRlcj48cmVjdCB3aWR0aD0iNTAwIiBoZWlnaHQ9IjUwMCIgZmlsdGVyPSJ1cmwoI25vaXNlKSIgb3BhY2l0eT0iMC4wNSIvPjwvc3ZnPg==');
            background-attachment: fixed;
            position: relative;
            overflow-x: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }
        
        /* TRUST BADGES - NOVO */
        .trust-badges {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        .trust-badge {
            background: rgba(30, 10, 41, 0.7);
            border: 1px solid var(--gold);
            border-radius: 8px;
            padding: 8px 12px;
            font-size: 0.8rem;
            color: var(--gold);
            display: flex;
            align-items: center;
            gap: 5px;
            animation: badge-glow 2s infinite alternate;
        }
        
        @keyframes badge-glow {
            0% { box-shadow: 0 0 5px rgba(255, 215, 0, 0.3); }
            100% { box-shadow: 0 0 15px rgba(255, 215, 0, 0.6); }
        }
        
        /* URGENCY BANNER - NOVO */
        .urgency-banner {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: linear-gradient(90deg, var(--danger), #ff6b7a);
            color: white;
            text-align: center;
            padding: 10px;
            font-weight: 600;
            z-index: 1000;
            animation: pulse-banner 1.5s infinite;
            font-size: 0.9rem;
        }
        
        @keyframes pulse-banner {
            0% { opacity: 0.8; }
            50% { opacity: 1; }
            100% { opacity: 0.8; }
        }
        
        .container {
            max-width: 900px;
            width: 100%;
            margin: 50px auto 0;
            position: relative;
        }
        
        .card {
            background: rgba(30, 10, 41, 0.85);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5), 
                        0 0 15px rgba(124, 42, 144, 0.3), 
                        0 0 30px rgba(76, 0, 112, 0.2);
            padding: 40px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(124, 42, 144, 0.3);
            position: relative;
            overflow: hidden;
            z-index: 1;
            animation: card-glow 6s infinite alternate;
        }
        
        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: var(--gradient);
            z-index: 2;
        }
        
        @keyframes card-glow {
            0% { box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5), 0 0 15px rgba(124, 42, 144, 0.3), 0 0 30px rgba(76, 0, 112, 0.2); }
            100% { box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5), 0 0 20px rgba(155, 59, 180, 0.4), 0 0 40px rgba(124, 0, 186, 0.25); }
        }
        
        /* TESTIMONIALS CAROUSEL - NOVO */
        .testimonials-section {
            background: rgba(30, 10, 41, 0.6);
            border-radius: 12px;
            padding: 25px;
            margin: 30px 0;
            border: 1px solid rgba(124, 42, 144, 0.2);
        }
        
        .testimonial {
            text-align: center;
            padding: 20px;
            display: none;
            animation: fadeInUp 0.8s ease;
        }
        
        .testimonial.active {
            display: block;
        }
        
        .testimonial-text {
            font-style: italic;
            font-size: 1rem;
            color: rgba(248, 243, 255, 0.9);
            margin-bottom: 15px;
            line-height: 1.5;
        }
        
        .testimonial-author {
            color: var(--accent);
            font-weight: 600;
            font-size: 0.9rem;
        }
        
        .testimonial-rating {
            color: var(--gold);
            font-size: 1.2rem;
            margin: 10px 0;
        }
        
        /* SCARCITY INDICATORS - NOVO */
        .scarcity-indicator {
            background: rgba(255, 71, 87, 0.1);
            border: 1px solid var(--danger);
            border-radius: 8px;
            padding: 15px;
            margin: 20px 0;
            text-align: center;
            animation: scarcity-pulse 2s infinite;
        }
        
        @keyframes scarcity-pulse {
            0% { border-color: var(--danger); background: rgba(255, 71, 87, 0.1); }
            50% { border-color: #ff6b7a; background: rgba(255, 71, 87, 0.2); }
            100% { border-color: var(--danger); background: rgba(255, 71, 87, 0.1); }
        }
        
        .scarcity-text {
            color: var(--danger);
            font-weight: 600;
            font-size: 1rem;
        }
        
        .scarcity-number {
            color: var(--accent);
            font-size: 1.3rem;
            font-weight: 700;
        }
        
        /* ENHANCED PROGRESS BAR */
        .progress-container {
            width: 100%;
            height: 8px;
            background: rgba(62, 27, 71, 0.3);
            border-radius: 4px;
            margin: 0 0 30px;
            overflow: hidden;
            position: relative;
        }
        
        .progress-bar {
            height: 100%;
            background: var(--gradient);
            border-radius: 4px;
            transition: width 0.4s ease;
            position: relative;
        }
        
        .progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            animation: shimmer 2s infinite;
        }
        
        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        h1, h2, h3, h4 {
            font-family: 'Cormorant Garamond', serif;
            font-weight: 700;
            color: var(--light);
            text-align: center;
            margin-bottom: 30px;
        }
        
        h1 {
            font-size: 2.8rem;
            background: linear-gradient(to right, var(--accent), #f8f3ff, #b476cc);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-top: 0;
            text-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            animation: title-glow 3s infinite alternate;
        }
        
        @keyframes title-glow {
            0% { filter: drop-shadow(0 0 2px rgba(255, 157, 0, 0.4)); }
            100% { filter: drop-shadow(0 0 12px rgba(255, 157, 0, 0.8)); }
        }
        
        /* ENHANCED OPTIONS */
        .option {
            display: block;
            background: rgba(62, 27, 71, 0.5);
            border: 2px solid rgba(124, 42, 144, 0.3);
            padding: 18px 25px;
            margin-bottom: 12px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            font-weight: 500;
        }
        
        .option:hover {
            background: rgba(124, 42, 144, 0.4);
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3), 0 0 15px rgba(124, 42, 144, 0.4);
            border-color: rgba(255, 157, 0, 0.5);
        }
        
        .option.selected {
            background: rgba(124, 42, 144, 0.6);
            border-color: var(--accent);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3), 0 0 20px rgba(255, 157, 0, 0.5);
            transform: translateY(-3px);
        }
        
        .option.selected::after {
            content: '✨';
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--accent);
            font-size: 1.2rem;
            text-shadow: 0 0 10px rgba(255, 157, 0, 0.8);
            animation: sparkle 1.5s infinite;
        }
        
        @keyframes sparkle {
            0%, 100% { transform: translateY(-50%) scale(1); }
            50% { transform: translateY(-50%) scale(1.2); }
        }
        
        /* ENHANCED BUTTONS */
        .btn {
            display: block;
            width: 100%;
            max-width: 350px;
            margin: 30px auto 0;
            padding: 18px 35px;
            background: var(--gradient);
            color: var(--light);
            border: none;
            border-radius: 50px;
            font-size: 1.2rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3), 0 0 15px rgba(124, 42, 144, 0.4);
            position: relative;
            overflow: hidden;
            text-align: center;
            text-decoration: none;
            z-index: 1;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, 
                rgba(124, 42, 144, 0.8), 
                rgba(255, 157, 0, 0.8), 
                rgba(124, 42, 144, 0.8)
            );
            background-size: 200% 100%;
            animation: btn-gradient 3s linear infinite;
            z-index: -1;
        }
        
        .btn:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 30px rgba(0, 0, 0, 0.4), 0 0 25px rgba(255, 157, 0, 0.6);
            color: white;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.8);
        }
        
        @keyframes btn-gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        /* MAGIC BUTTON SPECIAL */
        .magic-btn {
            background: linear-gradient(45deg, var(--accent), #ff6b7a, var(--gold), var(--accent));
            background-size: 300% 300%;
            animation: magic-gradient 3s ease infinite, magic-glow 2s infinite alternate;
            font-size: 1.3rem;
            padding: 20px 40px;
        }
        
        @keyframes magic-gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        @keyframes magic-glow {
            0% { box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3), 0 0 20px rgba(255, 157, 0, 0.6); }
            100% { box-shadow: 0 12px 30px rgba(0, 0, 0, 0.4), 0 0 40px rgba(255, 215, 0, 0.8); }
        }
        
        /* ENHANCED INPUTS */
        input[type="text"], 
        input[type="date"] {
            width: 100%;
            padding: 18px 20px;
            margin-bottom: 20px;
            background: rgba(30, 10, 41, 0.7);
            border: 2px solid rgba(124, 42, 144, 0.3);
            border-radius: 10px;
            color: var(--light);
            font-size: 1.1rem;
            transition: all 0.3s ease;
            font-weight: 500;
        }
        
        input[type="text"]:focus, 
        input[type="date"]:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 20px rgba(255, 157, 0, 0.4);
            background: rgba(30, 10, 41, 0.9);
            transform: translateY(-2px);
        }
        
        /* ENHANCED CARDS */
        .tarot-card {
            width: 95px;
            height: 150px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.4s ease;
            position: relative;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4), 0 0 10px rgba(124, 42, 144, 0.3);
            overflow: hidden;
            margin-bottom: 15px;
            background-size: cover;
            background-position: center;
            background-image: url('https://www.trustedtarot.com/img/cards/card-back.png');
            border: 2px solid rgba(124, 42, 144, 0.3);
        }
        
        .tarot-card:hover {
            transform: translateY(-12px) rotate(3deg);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5), 0 0 25px rgba(155, 59, 180, 0.5);
            border-color: var(--accent);
        }
        
        .tarot-card.selected {
            border: 3px solid var(--accent);
            animation: card-selected 1.5s infinite;
            box-shadow: 0 15px 35px rgba(255, 157, 0, 0.5), 0 0 30px rgba(255, 157, 0, 0.4);
            transform: translateY(-8px) rotate(0);
        }
        
        @keyframes card-selected {
            0%, 100% { transform: translateY(-8px) scale(1); }
            50% { transform: translateY(-12px) scale(1.05); }
        }
        
        /* ENHANCED COUNTDOWN */
        .countdown-timer {
            background: linear-gradient(45deg, var(--danger), #ff6b7a);
            border: 3px solid var(--gold);
            border-radius: 12px;
            padding: 20px 35px;
            display: inline-block;
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            letter-spacing: 4px;
            box-shadow: 0 0 30px rgba(255, 71, 87, 0.6);
            animation: timer-urgency 1s infinite alternate;
            font-size: 36px !important;
            margin-top: 20px;
            color: white;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
        
        @keyframes timer-urgency {
            0% { 
                box-shadow: 0 0 20px rgba(255, 71, 87, 0.6);
                transform: scale(1);
            }
            100% { 
                box-shadow: 0 0 40px rgba(255, 215, 0, 0.8);
                transform: scale(1.05);
            }
        }
        
        /* ENHANCED LOADING SCREEN */
        .cosmic-alignment {
            position: relative;
            width: 250px;
            height: 250px;
            margin: 40px auto;
        }
        
        .cosmic-circle {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 180px;
            height: 180px;
            border-radius: 50%;
            background: rgba(30, 10, 41, 0.7);
            box-shadow: 0 0 50px rgba(124, 42, 144, 0.6);
            overflow: hidden;
            animation: cosmic-pulse 3s infinite alternate;
            border: 3px solid var(--accent);
        }
        
        @keyframes cosmic-pulse {
            0% { 
                transform: translate(-50%, -50%) scale(1);
                box-shadow: 0 0 30px rgba(124, 42, 144, 0.6);
            }
            100% { 
                transform: translate(-50%, -50%) scale(1.1);
                box-shadow: 0 0 60px rgba(255, 157, 0, 0.8);
            }
        }
        
        /* PRICE COMPARISON - NOVO */
        .price-comparison {
            background: rgba(30, 10, 41, 0.8);
            border: 2px solid var(--accent);
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
            text-align: center;
        }
        
        .price-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid rgba(124, 42, 144, 0.3);
        }
        
        .price-row:last-child {
            border-bottom: none;
            font-weight: 700;
            font-size: 1.2rem;
            color: var(--accent);
        }
        
        .price-original {
            text-decoration: line-through;
            color: rgba(248, 243, 255, 0.6);
            font-size: 0.9rem;
        }
        
        .price-current {
            color: var(--accent);
            font-size: 1.5rem;
            font-weight: 700;
        }
        
        /* STEP INDICATOR - NOVO */
        .step-indicator {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
        }
        
        .step-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(124, 42, 144, 0.3);
            transition: all 0.3s ease;
        }
        
        .step-dot.active {
            background: var(--accent);
            box-shadow: 0 0 15px rgba(255, 157, 0, 0.6);
            transform: scale(1.3);
        }
        
        .step-dot.completed {
            background: var(--success);
        }
        
        /* LIVE ACTIVITY FEED - MELHORADO */
        .activity-notification {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: rgba(30, 10, 41, 0.95);
            border-left: 4px solid var(--accent);
            border-radius: 8px;
            padding: 15px 20px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4), 0 0 15px rgba(124, 42, 144, 0.3);
            max-width: 350px;
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.5s ease;
            z-index: 1000;
            pointer-events: none;
            border: 1px solid rgba(124, 42, 144, 0.3);
        }
        
        .activity-notification.show {
            transform: translateY(0);
            opacity: 1;
        }
        
        .activity-notification .name {
            color: var(--accent);
            font-weight: 700;
            font-size: 1rem;
        }
        
        .activity-notification p {
            margin: 0;
            font-size: 14px;
            line-height: 1.4;
        }
        
        .activity-notification .time {
            font-size: 12px;
            opacity: 0.7;
            margin-top: 5px;
            color: var(--accent);
        }
        
        .activity-dot {
            display: inline-block;
            width: 10px;
            height: 10px;
            background-color: var(--success);
            border-radius: 50%;
            margin-right: 8px;
            position: relative;
            animation: pulse-dot 2s infinite;
        }
        
        @keyframes pulse-dot {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.5); opacity: 0.7; }
            100% { transform: scale(1); opacity: 1; }
        }
        
        /* GUARANTEE BADGE - NOVO */
        .guarantee-badge {
            background: linear-gradient(45deg, var(--success), #7bed9f);
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            text-align: center;
            margin: 25px 0;
            font-weight: 700;
            box-shadow: 0 5px 15px rgba(46, 213, 115, 0.3);
            animation: guarantee-glow 3s infinite alternate;
        }
        
        @keyframes guarantee-glow {
            0% { box-shadow: 0 5px 15px rgba(46, 213, 115, 0.3); }
            100% { box-shadow: 0 5px 25px rgba(46, 213, 115, 0.6); }
        }
        
        /* EXIT INTENT POPUP - NOVO */
        .exit-popup {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 10000;
            display: none;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.5s ease;
        }
        
        .exit-popup-content {
            background: var(--dark);
            border: 3px solid var(--accent);
            border-radius: 20px;
            padding: 40px;
            max-width: 500px;
            text-align: center;
            position: relative;
            animation: popIn 0.5s ease;
        }
        
        @keyframes popIn {
            0% { transform: scale(0.5); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }
        
        .exit-popup-close {
            position: absolute;
            top: 15px;
            right: 20px;
            background: none;
            border: none;
            color: var(--light);
            font-size: 24px;
            cursor: pointer;
        }
        
        .step {
            display: none;
            animation: fadeInUp 0.8s ease forwards;
        }
        
        .step.active {
            display: block;
        }
        
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* MOBILE OPTIMIZATIONS */
        @media (max-width: 768px) {
            .urgency-banner {
                font-size: 0.8rem;
                padding: 8px;
            }
            
            .container {
                margin-top: 40px;
            }
            
            .card {
                padding: 25px 15px;
            }
            
            h1 {
                font-size: 2.2rem;
            }
            
            .tarot-card {
                width: 75px;
                height: 120px;
            }
            
            .btn {
                font-size: 1rem;
                padding: 15px 25px;
            }
            
            .countdown-timer {
                font-size: 28px !important;
                padding: 15px 25px;
            }
            
            .trust-badges {
                gap: 10px;
            }
            
            .trust-badge {
                font-size: 0.7rem;
                padding: 6px 10px;
            }
            
            .activity-notification {
                left: 10px;
                right: 10px;
                max-width: none;
            }
            
            .exit-popup-content {
                margin: 20px;
                padding: 30px 20px;
            }
            
            .cosmic-alignment {
                width: 200px;
                height: 200px;
            }
            
            .cosmic-circle {
                width: 150px;
                height: 150px;
            }
        }
        
        /* ENHANCED SCROLLBAR */
        ::-webkit-scrollbar {
            width: 10px;
        }
        
        ::-webkit-scrollbar-track {
            background: rgba(30, 10, 41, 0.8);
        }
        
        ::-webkit-scrollbar-thumb {
            background: var(--gradient);
            border-radius: 5px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(45deg, var(--accent), var(--primary));
        }
        
        /* FLOATING ACTION ELEMENTS */
        .floating-guarantee {
            position: fixed;
            bottom: 100px;
            right: 20px;
            background: var(--success);
            color: white;
            padding: 12px 18px;
            border-radius: 25px;
            font-size: 0.9rem;
            font-weight: 600;
            box-shadow: 0 5px 15px rgba(46, 213, 115, 0.4);
            animation: float 3s ease-in-out infinite;
            z-index: 999;
            cursor: pointer;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        .mystic-quote {
            font-family: 'Cormorant Garamond', serif;
            font-style: italic;
            text-align: center;
            margin: 25px auto;
            color: rgba(248, 243, 255, 0.8);
            position: relative;
            padding: 0 40px;
            font-size: 1.1rem;
            line-height: 1.6;
        }
        
        .mystic-quote::before,
        .mystic-quote::after {
            content: '"';
            position: absolute;
            font-size: 2.5rem;
            color: var(--accent);
            opacity: 0.7;
            font-family: serif;
        }
        
        .mystic-quote::before {
            left: 0;
            top: -15px;
        }
        
        .mystic-quote::after {
            right: 0;
            bottom: -20px;
        }
        
        .highlight {
            color: var(--accent);
            font-weight: 700;
            text-shadow: 0 0 5px rgba(255, 157, 0, 0.5);
        }
        
        .hidden-message {
            opacity: 0;
            transform: translateY(20px);
            transition: all 1s ease;
        }

        .hidden-message.show {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* COSMIC BACKGROUND ELEMENTS */
        .cosmic {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
            overflow: hidden;
        }
        
        .star {
            position: absolute;
            width: 2px;
            height: 2px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 50%;
            box-shadow: 0 0 6px 1px rgba(255, 255, 255, 0.8);
            animation: twinkle 4s infinite;
        }
        
        .star.bright {
            width: 3px;
            height: 3px;
            box-shadow: 0 0 10px 2px rgba(255, 236, 210, 0.9);
        }
        
        .shooting-star {
            position: absolute;
            width: 200px;
            height: 2px;
            transform: rotate(-45deg);
            background: linear-gradient(to right, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.6) 50%, rgba(255, 255, 255, 0) 100%);
            opacity: 0;
            animation: shooting 12s infinite;
            box-shadow: 0 0 15px 0 rgba(255, 255, 255, 0.6);
        }
        
        @keyframes twinkle {
            0% { opacity: 0.3; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.2); }
            100% { opacity: 0.3; transform: scale(1); }
        }
        
        @keyframes shooting {
            0% { 
                transform: translateX(-400px) translateY(400px) rotate(-45deg);
                opacity: 0;
            }
            2% { opacity: 1; }
            8% { 
                transform: translateX(400px) translateY(-400px) rotate(-45deg);
                opacity: 0;
            }
            100% { opacity: 0; }
        }
    </style>
</head>
<body>
    <!-- URGENCY BANNER -->
    <div class="urgency-banner">
        ⚠️ APENAS HOJE: Leitura Premium por R$19,90 - Oferta expira em <span id="banner-timer">13:00</span>
    </div>
    
    <!-- FLOATING GUARANTEE -->
    <div class="floating-guarantee">
        🛡️ 100% Garantido
    </div>
    
    <!-- COSMIC BACKGROUND -->
    <div class="cosmic" id="stars">
        <div id="shooting-stars"></div>
    </div>
    
    <!-- EXIT INTENT POPUP -->
    <div class="exit-popup" id="exit-popup">
        <div class="exit-popup-content">
            <button class="exit-popup-close" onclick="closeExitPopup()">&times;</button>
            <h2 style="color: var(--accent); margin-bottom: 20px;">⚠️ ESPERE!</h2>
            <p style="font-size: 1.1rem; margin-bottom: 20px;">Você está prestes a perder uma oportunidade única de descobrir seu destino...</p>
            <p style="color: var(--accent); font-weight: 700; font-size: 1.2rem;">DESCONTO ESPECIAL: 33% OFF</p>
            <p style="margin: 15px 0;">De R$29,90 por apenas <span style="color: var(--gold); font-size: 1.3rem; font-weight: 700;">R$19,90</span></p>
            <button class="btn magic-btn" onclick="acceptExitOffer()" style="margin: 20px auto;">
                ACEITAR DESCONTO AGORA
            </button>
            <p style="font-size: 0.9rem; opacity: 0.8; margin-top: 15px;">Esta oferta não aparecerá novamente!</p>
        </div>
    </div>
    
    <div class="container">
        <div class="card">
            <!-- TRUST BADGES -->
            <div class="trust-badges">
                <div class="trust-badge">
                    ⭐ +50.000 leituras realizadas
                </div>
                <div class="trust-badge">
                    🔒 Pagamento 100% seguro
                </div>
                <div class="trust-badge">
                    ⚡ Resultado instantâneo
                </div>
                <div class="trust-badge">
                    🛡️ Garantia total
                </div>
            </div>
            
            <!-- STEP INDICATOR -->
            <div class="step-indicator" id="step-indicator">
                <div class="step-dot active"></div>
                <div class="step-dot"></div>
                <div class="step-dot"></div>
                <div class="step-dot"></div>
                <div class="step-dot"></div>
                <div class="step-dot"></div>
                <div class="step-dot"></div>
                <div class="step-dot"></div>
                <div class="step-dot"></div>
                <div class="step-dot"></div>
                <div class="step-dot"></div>
                <div class="step-dot"></div>
                <div class="step-dot"></div>
            </div>
            
            <div class="progress-container">
                <div class="progress-bar" id="progress"></div>
            </div>
            
            <!-- ETAPA 1 - GANCHO INICIAL MELHORADO -->
            <div class="step active" id="step1">
                <h1>🔮 REVELAÇÃO TAROT PREMIUM</h1>
                
                <!-- TESTIMONIALS CAROUSEL -->
                <div class="testimonials-section">
                    <div class="testimonial active">
                        <div class="testimonial-rating">⭐⭐⭐⭐⭐</div>
                        <div class="testimonial-text">"Chorei ao ler... a precisão foi assustadora. Conseguiu ver coisas que nem minha família sabia sobre mim."</div>
                        <div class="testimonial-author">- Maria S., São Paulo</div>
                    </div>
                    <div class="testimonial">
                        <div class="testimonial-rating">⭐⭐⭐⭐⭐</div>
                        <div class="testimonial-text">"Melhor investimento que fiz. A leitura mudou completamente minha perspectiva sobre meu relacionamento."</div>
                        <div class="testimonial-author">- Carlos R., Rio de Janeiro</div>
                    </div>
                    <div class="testimonial">
                        <div class="testimonial-rating">⭐⭐⭐⭐⭐</div>
                        <div class="testimonial-text">"Incrível como acertou detalhes do meu passado que nunca contei para ninguém. Impressionante!"</div>
                        <div class="testimonial-author">- Ana L., Belo Horizonte</div>
                    </div>
                </div>
                
                <p style="font-size: 1.2rem; text-align: center; margin: 30px 0;">Você sente que algo importante precisa ser revelado sobre seu futuro?</p>
                
                <div class="scarcity-indicator">
                    <div class="scarcity-text">⚠️ APENAS <span class="scarcity-number" id="spots-left">27</span> VAGAS RESTANTES HOJE</div>
                </div>
                
                <h3 style="color: var(--accent); margin: 30px 0;">
                    Você está passando por um momento difícil e precisa de orientação espiritual urgente?
                </h3>
                
                <div class="option-group">
                    <div class="option" data-value="sim">✨ SIM - Preciso de respostas AGORA (situação urgente)</div>
                    <div class="option" data-value="curioso">🔍 Estou curioso, mas não é urgente</div>
                    <div class="option" data-value="bloqueado">😰 Me sinto BLOQUEADO e não sei o que fazer</div>
                    <div class="option" data-value="sinais">🌟 Tenho visto SINAIS, mas não entendo o significado</div>
                </div>
                
                <a href="#" class="btn next-btn" style="opacity: 0.5; pointer-events: none;">CONTINUAR LEITURA</a>
                
                <div class="hidden-message" id="message1">As energias cósmicas já estão se alinhando para sua consulta...</div>
            </div>
            
            <!-- ETAPA 2 - PREPARAÇÃO EMOCIONAL -->
            <div class="step" id="step2">
                <h2>🧘‍♀️ Preparação Espiritual</h2>
                
                <p style="font-size: 1.1rem;">Feche os olhos por 5 segundos. Respire fundo e sinta...</p>
                <p style="color: var(--accent); font-weight: 600; font-size: 1.2rem; text-align: center; margin: 25px 0;">
                    Existe algo que o UNIVERSO quer revelar para você hoje?
                </p>
                
                <div class="option-group">
                    <div class="option" data-value="option1">😣 SIM, algo me incomoda há DIAS e não consigo resolver</div>
                    <div class="option" data-value="option2">🤔 Tenho dúvidas que me impedem de dormir bem</div>
                    <div class="option" data-value="option3">✨ Sinto fortemente que o universo quer me dizer algo</div>
                    <div class="option" data-value="option4">😰 Sei que algo precisa mudar, mas não sei o QUÊ</div>
                    <div class="option" data-value="option5">🔮 Sempre tive pressentimentos que se realizam</div>
                </div>
                
                <div class="guarantee-badge">
                    🛡️ GARANTIA TOTAL: Se não ficar satisfeito, devolvemos 100% do valor
                </div>
                
                <a href="#" class="btn next-btn">REVELAR PRÓXIMO PASSO</a>
                
                <div class="hidden-message" id="message2">Você não está aqui por acaso... sua alma foi guiada até esta consulta.</div>
            </div>
            
            <!-- ETAPA 3 - ESTADO EMOCIONAL PROFUNDO -->
            <div class="step" id="step3">
                <h2>💭 Sintonização Espiritual</h2>
                <p>Seja completamente honesto(a)... Como você tem se sentido nos últimos dias?</p>
                
                <div class="option-group">
                    <div class="option" data-value="option1">😴 Cansado(a) mentalmente, confuso(a), sem direção</div>
                    <div class="option" data-value="option2">😰 Ansioso(a), como se algo GRANDE fosse acontecer</div>
                    <div class="option" data-value="option3">⚖️ Em conflito constante com decisões importantes</div>
                    <div class="option" data-value="option4">🧘‍♀️ Desesperadamente tentando encontrar paz interior</div>
                    <div class="option" data-value="option5">💔 Sentindo que algo importante "desconectou" da minha vida</div>
                    <div class="option" data-value="option6">🌊 Como se estivesse "nadando contra a correnteza"</div>
                </div>
                
                <p class="mystic-quote">Esta resposta será canalizada diretamente para sua vibração energética atual.</p>
                
                <a href="#" class="btn next-btn">CONTINUAR ANÁLISE</a>
            </div>
            
            <!-- ETAPA 4 - ÁREA DE VIDA PRIORITÁRIA -->
            <div class="step" id="step4">
                <h2>🎯 Foco da Consulta</h2>
                <p>Qual aspecto da sua vida mais GRITA por orientação neste momento?</p>
                
                <div class="option-group">
                    <div class="option" data-value="love">💕 AMOR (relacionamentos, reconciliação, alma gêmea)</div>
                    <div class="option" data-value="career">💰 DINHEIRO e carreira (prosperidade, oportunidades)</div>
                    <div class="option" data-value="spiritual">🌟 PROPÓSITO espiritual e autoconhecimento</div>
                    <div class="option" data-value="health">🌿 Saúde emocional e energética</div>
                    <div class="option" data-value="family">👨‍👩‍👧‍👦 Família e laços (cura de traumas, relacionamentos)</div>
                    <div class="option" data-value="future">🔮 FUTURO (o que está vindo, preparação)</div>
                </div>
                
                <a href="#" class="btn next-btn">APROFUNDAR CONSULTA</a>
            </div>
            
            <!-- ETAPA 5 - GATILHO EMOCIONAL PROFUNDO -->
            <div class="step" id="step5">
                <h2>💔 Verdade Íntima</h2>
                <p style="color: var(--accent); font-weight: 600;">AGORA com total honestidade: O que mais te machuca em SILÊNCIO?</p>
                
                <div class="option-group">
                    <div class="option" data-value="option1">😢 Amar mais do que sou amado(a) - sempre</div>
                    <div class="option" data-value="option2">😰 Não saber o que fazer com minha vida aos [idade]</div>
                    <div class="option" data-value="option3">😤 Sempre dar certo para outros, NUNCA para mim</div>
                    <div class="option" data-value="option4">💭 Medo secreto de NUNCA realizar meus sonhos</div>
                    <div class="option" data-value="option5">🔄 Repetir ciclos destrutivos que me sabotam</div>
                    <div class="option" data-value="option6">😔 Sentir que "não sou suficiente" para nada</div>
                </div>
                
                <p class="mystic-quote">Esta resposta direcionará as cartas para tocar exatamente onde você mais precisa de cura.</p>
                
                <a href="#" class="btn next-btn">REVELAR PRÓXIMA CAMADA</a>
            </div>
            
            <!-- ETAPA 6 - IDENTIFICAÇÃO PESSOAL -->
            <div class="step" id="step6">
                <h2>📝 Identificação Energética</h2>
                <p>📛 Qual seu primeiro nome? <small>(usado para canalizar sua energia pessoal)</small></p>
                <input type="text" id="first-name" placeholder="Digite apenas seu primeiro nome">
                
                <p>🧬 Como devo me referir a você durante a leitura?</p>
                <div class="option-group">
                    <div class="option" data-value="female">👩 Mulher</div>
                    <div class="option" data-value="male">👨 Homem</div>
                    <div class="option" data-value="other">🏳️‍⚧️ Outro / Prefiro não especificar</div>
                    <div class="option" data-value="name">👤 Apenas me chame pelo nome</div>
                </div>
                
                <div class="scarcity-indicator">
                    <div class="scarcity-text">⏰ Tempo limitado: <span class="scarcity-number" id="time-left">12:30</span> para completar</div>
                </div>
                
                <a href="#" class="btn next-btn">ATIVAR CONEXÃO ENERGÉTICA</a>
            </div>
            
            <!-- ETAPA 7 - DATA DE NASCIMENTO -->
            <div class="step" id="step7">
                <h2>🌟 Mapa Numerológico</h2>
                <p>📅 Sua data de nascimento completa:</p>
                <input type="date" id="birth-date">
                
                <p class="mystic-quote">Usaremos sua vibração numerológica para destravar cartas específicas que ressoam com seu momento de vida atual.</p>
                
                <div class="price-comparison">
                    <h3 style="margin-bottom: 15px;">💰 Comparação de Valores</h3>
                    <div class="price-row">
                        <span>Consulta presencial com tarólogo</span>
                        <span class="price-original">R$150,00</span>
                    </div>
                    <div class="price-row">
                        <span>Leitura online básica</span>
                        <span class="price-original">R$45,00</span>
                    </div>
                    <div class="price-row">
                        <span>Nossa Leitura Premium Personalizada</span>
                        <span class="price-current">R$19,90</span>
                    </div>
                </div>
                
                <a href="#" class="btn next-btn">CALCULAR NUMEROLOGIA</a>
            </div>
            
            <!-- ETAPA 8 - ESTADO DO CORAÇÃO -->
            <div class="step" id="step8">
                <h2>💗 Estado Atual do Coração</h2>
                <p>E sobre seu coração... como ele está REALMENTE agora?</p>
                
                <div class="option-group">
                    <div class="option" data-value="option1">💔 Em PEDAÇOS, tentando se reerguer sozinho</div>
                    <div class="option" data-value="option2">😕 Confuso, sem saber em quem confiar</div>
                    <div class="option" data-value="option3">🌅 Esperançoso por algo NOVO e verdadeiro</div>
                    <div class="option" data-value="option4">🔗 Ainda LIGADO a alguém do passado</div>
                    <div class="option" data-value="option5">😊 Feliz, mas curioso sobre o FUTURO</div>
                    <div class="option" data-value="option6">🚧 PROTEGIDO, com medo de se entregar novamente</div>
                </div>
                
                <p class="mystic-quote">Uma das cartas que será revelada responderá DIRETAMENTE ao estado do seu coração.</p>
                
                <a href="#" class="btn next-btn">PROSSEGUIR COM ANÁLISE</a>
            </div>
            
            <!-- ETAPA 9 - FRASE VIBRACIONAL -->
            <div class="step" id="step9">
                <h2>🎵 Vibração da Alma</h2>
                <p>Qual frase abaixo mais ECOA na sua alma neste exato momento?</p>
                
                <div class="option-group">
                    <div class="option" data-value="option1">"Se for pra ser, será... mas POR QUE demora tanto?"</div>
                    <div class="option" data-value="option2">"Eu só quero PAZ e clareza na minha vida."</div>
                    <div class="option" data-value="option3">"Sinto que estou sendo GUIADO, mas não entendo os sinais."</div>
                    <div class="option" data-value="option4">"Tenho MEDO de me entregar de novo e me machucar."</div>
                    <div class="option" data-value="option5">"Chegou MINHA HORA de despertar para quem realmente sou."</div>
                    <div class="option" data-value="option6">"Por que sempre acontece tudo ERRADO comigo?"</div>
                </div>
                
                <p class="mystic-quote">Esta escolha ativará a energia certa para sua leitura personalizada.</p>
                
                <a href="#" class="btn next-btn">SINCRONIZAR ENERGIA</a>
            </div>
            
            <!-- ETAPA 10 - SELEÇÃO DE CARTAS MELHORADA -->
            <div class="step" id="step10">
                <h2>🔮 Escolha Intuitiva das Cartas</h2>
                <p>Relaxe e escolha 3 cartas seguindo sua INTUIÇÃO pura.</p>
                <p style="color: var(--accent);"><small>(Não pense, apenas SINTA qual carta te chama)</small></p>
                
                <div class="tarot-cards">
                    <!-- As cartas serão carregadas dinamicamente -->
                </div>
                
                <p id="cardCounter" class="text-center" style="font-size: 1.1rem; margin: 20px 0;">
                    Cartas selecionadas: <span class="highlight" style="font-size: 1.3rem;">0</span>/3
                </p>
                
                <p class="mystic-quote">Suas escolhas estão revelando padrões ocultos do seu destino...</p>
                
                <a href="#" class="btn next-btn" disabled>🔮 REVELAR MINHA LEITURA</a>
            </div>
            
            <!-- ETAPA 11 - LOADING MÁGICO MELHORADO -->
            <div class="step" id="step11">
                <h2>⚡ Canalizando Sua Leitura Personalizada</h2>
                
                <div class="cosmic-alignment">
                    <div class="cosmic-circle">
                        <div class="cosmic-particles"></div>
                        <div class="cosmic-glow"></div>
                        <div class="cosmic-inner-circle"></div>
                        <div class="cosmic-symbol"></div>
                    </div>
                </div>
                
                <div class="loading-messages">
                    <p class="loading-text active" id="loading-text-1">🔮 Conectando com seu campo energético pessoal...</p>
                    <p class="loading-text" id="loading-text-2">⭐ Alinhando vibrações cósmicas com sua data de nascimento...</p>
                    <p class="loading-text" id="loading-text-3">📜 Decodificando padrões astrais únicos da sua alma...</p>
                    <p class="loading-text" id="loading-text-4">🌌 Consultando os registros akáshicos do seu destino...</p>
                    <p class="loading-text" id="loading-text-5">🎯 Sincronizando as cartas com sua situação atual...</p>
                    <p class="loading-text" id="loading-text-6">✨ Revelações PODEROSAS estão emergindo...</p>
                    <p class="loading-text" id="loading-text-7"><span class="highlight">🚨 ATENÇÃO: As cartas revelaram informações SURPREENDENTES sobre seu futuro!</span></p>
                </div>
                
                <div class="progress-mystic">
                    <div class="progress-mystic-bar"></div>
                </div>
                
                <div class="cosmic-signs">
                    <div class="zodiac-sign" id="zodiac-1">♈</div>
                    <div class="zodiac-sign" id="zodiac-2">♉</div>
                    <div class="zodiac-sign" id="zodiac-3">♊</div>
                    <div class="zodiac-sign" id="zodiac-4">♋</div>
                    <div class="zodiac-sign" id="zodiac-5">♌</div>
                    <div class="zodiac-sign" id="zodiac-6">♍</div>
                    <div class="zodiac-sign" id="zodiac-7">♎</div>
                    <div class="zodiac-sign" id="zodiac-8">♏</div>
                    <div class="zodiac-sign" id="zodiac-9">♐</div>
                    <div class="zodiac-sign" id="zodiac-10">♑</div>
                    <div class="zodiac-sign" id="zodiac-11">♒</div>
                    <div class="zodiac-sign" id="zodiac-12">♓</div>
                </div>
                
                <div class="mystic-revelation hidden-message" id="message11">
                    <p>🌟 O universo conspirou para este momento específico...</p>
                    <p>✨ Suas escolhas revelaram padrões energéticos que poucos conseguem enxergar.</p>
                    <p>🎯 As cartas mostram um <span class="highlight">caminho transformador</span> que mudará sua vida.</p>
                </div>
                
                <div class="continue-button" style="text-align: center; margin-top: 30px; opacity: 0;">
                    <a href="#" class="btn magic-btn" id="continue-to-reading">🔮 REVELAR MINHA LEITURA COMPLETA</a>
                </div>
            </div>
            
            <!-- ETAPA 12 - CHECKOUT OTIMIZADO -->
            <div class="step" id="step12">
                <h2>🎯 Sua Leitura Está Pronta!</h2>
                
                <div class="scarcity-indicator">
                    <div class="scarcity-text">🚨 ÚLTIMA CHANCE: Esta leitura ficará disponível por apenas <span class="scarcity-number">12 minutos</span></div>
                </div>
                
                <p>⚠️ <span class="highlight">IMPORTANTE:</span> Esta leitura foi canalizada <strong>EXCLUSIVAMENTE para você</strong>, usando sua energia pessoal, data de nascimento e escolhas intuitivas.</p>
                
                <p>🔒 Para preservar a integridade espiritual, ela ficará disponível <strong>apenas por tempo limitado</strong>.</p>
                
                <div class="testimonials-section">
                    <div class="testimonial active">
                        <div class="testimonial-rating">⭐⭐⭐⭐⭐</div>
                        <div class="testimonial-text">"Chorei muito ao ler... era exatamente o que minha alma precisava ouvir. Cada palavra tocou fundo."</div>
                        <div class="testimonial-author">- Fernanda M., 2 horas atrás</div>
                    </div>
                </div>
                
                <p class="mystic-quote">Pessoas relatam transformações profundas após a leitura... porque o Tarot toca onde mais precisamos de cura.</p>
                
                <div class="price-comparison">
                    <h3>💰 Valor da Transformação</h3>
                    <div class="price-row">
                        <span>Valor normal da consulta</span>
                        <span class="price-original">R$49,90</span>
                    </div>
                    <div class="price-row">
                        <span>Desconto especial HOJE</span>
                        <span style="color: var(--success);">-60%</span>
                    </div>
                    <div class="price-row">
                        <span><strong>Sua Leitura Premium Completa</strong></span>
                        <span class="price-current">R$19,90</span>
                    </div>
                </div>
                
                <p>🔓 <strong>Para acessar sua leitura completa e transformadora:</strong></p>
                
                <a href="#" class="btn magic-btn" id="payment-btn">
                    🔮 LIBERAR MINHA LEITURA - R$19,90
                </a>
                
                <div class="guarantee-badge">
                    🛡️ GARANTIA INCONDICIONAL: Se você não ficar completamente satisfeito, devolvemos 100% do seu dinheiro
                </div>
                
                <div class="timer" id="countdown">
                    <p style="text-align: center; margin-bottom: 10px; color: var(--danger); font-weight: 600;">
                        ⏰ Tempo restante para acessar:
                    </p>
                    <div id="countdown-timer" class="countdown-timer">20:00</div>
                </div>
            </div>
            
            <!-- ETAPA 13 - LEITURA COMPLETA -->
            <div class="step" id="step13">
                <h2>✨ Sua Leitura Personalizada</h2>
                
                <p>Querido(a) <span id="user-name" class="highlight">Consulente</span>,</p>
                
                <div id="reading-content">
                    <!-- O conteúdo será preenchido dinamicamente -->
                </div>
                
                <div class="guarantee-badge">
                    🌟 Esperamos que esta leitura traga a clareza e direcionamento que sua alma estava buscando
                </div>
                
                <p style="text-align: center; margin-top: 30px;"><strong>Com luz e proteção espiritual,</strong></p>
                <p style="text-align: center;"><strong>Equipe Revelação Tarot</strong> ✨</p>
                
                <a href="#" class="btn" id="restart-btn" style="margin-top: 30px;">🔄 FAZER NOVA CONSULTA</a>
            </div>
        </div>
    </div>

    <!-- CONTAINER DE NOTIFICAÇÕES -->
    <div id="notification-container"></div>

    <script>
        // SISTEMA COMPLETO COM TODAS AS MELHORIAS
        document.addEventListener('DOMContentLoaded', function() {
            
            // ===== CONFIGURAÇÕES INICIAIS =====
            const tarotDeck = [
                { id: 1, name: "O Louco", image: "https://www.trustedtarot.com/img/cards/the-fool.png" },
                { id: 2, name: "O Mago", image: "https://www.trustedtarot.com/img/cards/the-magician.png" },
                { id: 3, name: "A Sacerdotisa", image: "https://www.trustedtarot.com/img/cards/the-high-priestess.png" },
                { id: 4, name: "A Imperatriz", image: "https://www.trustedtarot.com/img/cards/the-empress.png" },
                { id: 5, name: "O Imperador", image: "https://www.trustedtarot.com/img/cards/the-emperor.png" },
                { id: 6, name: "O Hierofante", image: "https://www.trustedtarot.com/img/cards/the-hierophant.png" },
                { id: 7, name: "Os Enamorados", image: "https://www.trustedtarot.com/img/cards/the-lovers.png" },
                { id: 8, name: "O Carro", image: "https://www.trustedtarot.com/img/cards/the-chariot.png" },
                { id: 9, name: "A Força", image: "https://www.trustedtarot.com/img/cards/strength.png" },
                { id: 10, name: "O Eremita", image: "https://www.trustedtarot.com/img/cards/the-hermit.png" },
                { id: 11, name: "A Roda da Fortuna", image: "https://www.trustedtarot.com/img/cards/wheel-of-fortune.png" },
                { id: 12, name: "A Justiça", image: "https://www.trustedtarot.com/img/cards/justice.png" },
                { id: 13, name: "O Enforcado", image: "https://www.trustedtarot.com/img/cards/the-hanged-man.png" },
                { id: 14, name: "A Morte", image: "https://www.trustedtarot.com/img/cards/death.png" },
                { id: 15, name: "A Temperança", image: "https://www.trustedtarot.com/img/cards/temperance.png" },
                { id: 16, name: "O Diabo", image: "https://www.trustedtarot.com/img/cards/the-devil.png" },
                { id: 17, name: "A Torre", image: "https://www.trustedtarot.com/img/cards/the-tower.png" },
                { id: 18, name: "A Estrela", image: "https://www.trustedtarot.com/img/cards/the-star.png" },
                { id: 19, name: "A Lua", image: "https://www.trustedtarot.com/img/cards/the-moon.png" },
                { id: 20, name: "O Sol", image: "https://www.trustedtarot.com/img/cards/the-sun.png" },
                { id: 21, name: "O Julgamento", image: "https://www.trustedtarot.com/img/cards/judgement.png" },
                { id: 22, name: "O Mundo", image: "https://www.trustedtarot.com/img/cards/the-world.png" }
            ];
            
            const cardBackImage = "https://www.trustedtarot.com/img/cards/card-back.png";
            
            // ===== VARIÁVEIS GLOBAIS =====
            let currentStep = 1;
            const totalSteps = 13;
            let testimonialIndex = 0;
            let bannerTimeLeft = 780; // 13:00 em segundos
            let spotsLeft = 27;
            let timeLeft = 720; // 12:00 em segundos
            
            const userChoices = {
                qualificacao: '',
                preparacao: '',
                estado: '',
                tema: '',
                gatilho: '',
                name: '',
                gender: '',
                birthDate: '',
                coracao: '',
                frase: '',
                selectedCards: []
            };
            
            // ===== FUNÇÕES DE EFEITOS VISUAIS =====
            
            // Criar estrelas no fundo
            function createStars() {
                const starsContainer = document.getElementById('stars');
                
                // Estrelas normais
                for (let i = 0; i < 80; i++) {
                    const star = document.createElement('div');
                    star.className = Math.random() > 0.7 ? 'star bright' : 'star';
                    star.style.top = `${Math.random() * 100}%`;
                    star.style.left = `${Math.random() * 100}%`;
                    star.style.animationDelay = `${Math.random() * 4}s`;
                    starsContainer.appendChild(star);
                }
                
                // Estrelas cadentes
                const shootingStarsContainer = document.getElementById('shooting-stars');
                for (let i = 0; i < 3; i++) {
                    const shootingStar = document.createElement('div');
                    shootingStar.className = 'shooting-star';
                    shootingStar.style.top = `${Math.random() * 50}%`;
                    shootingStar.style.left = `${Math.random() * 100}%`;
                    shootingStar.style.animationDelay = `${Math.random() * 10}s`;
                    shootingStarsContainer.appendChild(shootingStar);
                }
            }
            
            // Atualizar indicadores de etapa
            function updateStepIndicator() {
                const dots = document.querySelectorAll('.step-dot');
                dots.forEach((dot, index) => {
                    dot.classList.remove('active', 'completed');
                    if (index + 1 < currentStep) {
                        dot.classList.add('completed');
                    } else if (index + 1 === currentStep) {
                        dot.classList.add('active');
                    }
                });
            }
            
            // Atualizar barra de progresso
            function updateProgress() {
                const progressBar = document.getElementById('progress');
                const progressPercentage = (currentStep / totalSteps) * 100;
                progressBar.style.width = `${progressPercentage}%`;
                updateStepIndicator();
            }
            
            // ===== SISTEMA DE DEPOIMENTOS ROTATIVOS =====
            function rotateTestimonials() {
                const testimonials = document.querySelectorAll('.testimonial');
                if (testimonials.length === 0) return;
                
                testimonials[testimonialIndex].classList.remove('active');
                testimonialIndex = (testimonialIndex + 1) % testimonials.length;
                testimonials[testimonialIndex].classList.add('active');
            }
            
            // ===== SISTEMA DE ESCASSEZ DINÂMICA =====
            function updateScarcityIndicators() {
                // Atualizar vagas restantes
                const spotsElement = document.getElementById('spots-left');
                if (spotsElement && spotsLeft > 0) {
                    spotsLeft = Math.max(spotsLeft - Math.floor(Math.random() * 3), 5);
                    spotsElement.textContent = spotsLeft;
                }
                
                // Atualizar tempo limite
                const timeElement = document.getElementById('time-left');
                if (timeElement && timeLeft > 0) {
                    timeLeft -= Math.floor(Math.random() * 30) + 15;
                    const minutes = Math.floor(timeLeft / 60);
                    const seconds = timeLeft % 60;
                    timeElement.textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;
                }
            }
            
            // ===== SISTEMA DE TIMER DO BANNER =====
            function updateBannerTimer() {
                const bannerTimer = document.getElementById('banner-timer');
                if (bannerTimer && bannerTimeLeft > 0) {
                    bannerTimeLeft--;
                    const hours = Math.floor(bannerTimeLeft / 3600);
                    const minutes = Math.floor((bannerTimeLeft % 3600) / 60);
                    const seconds = bannerTimeLeft % 60;
                    bannerTimer.textContent = `${hours}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                }
            }
            
            // ===== SISTEMA EXIT INTENT =====
            let exitIntentShown = false;
            let mouseLeaveTimer;
            
            function showExitIntent() {
                if (!exitIntentShown && currentStep >= 3 && currentStep < 12) {
                    exitIntentShown = true;
                    document.getElementById('exit-popup').style.display = 'flex';
                    
                    // Tracking do evento
                    if (typeof fbq !== 'undefined') {
                        fbq('track', 'ExitIntent');
                    }
                }
            }
            
            function closeExitPopup() {
                document.getElementById('exit-popup').style.display = 'none';
            }
            
            function acceptExitOffer() {
                closeExitPopup();
                // Ir direto para o checkout com desconto
                goToStep(12);
                // Aplicar desconto especial no preço
                const priceElements = document.querySelectorAll('.price-current');
                priceElements.forEach(el => el.textContent = 'R$19,90');
                
                if (typeof fbq !== 'undefined') {
                    fbq('track', 'ExitOfferAccepted');
                }
            }
            
            // Detectar movimento para fora da janela
            document.addEventListener('mouseleave', function(e) {
                if (e.clientY <= 0) {
                    mouseLeaveTimer = setTimeout(showExitIntent, 1000);
                }
            });
            
            document.addEventListener('mouseenter', function() {
                if (mouseLeaveTimer) {
                    clearTimeout(mouseLeaveTimer);
                }
            });
            
            // ===== SISTEMA DE NOTIFICAÇÕES SOCIAIS =====
            const testimonialTexts = [
                "Nossa, realmente muito profundo! Exatamente o que eu estava sentindo.",
                "Incrível como a leitura revelou coisas que ninguém sabia sobre mim!",
                "As cartas acertaram em cheio meu momento atual. Impressionante!",
                "Me emocionei com a precisão da leitura, obrigado(a)!",
                "Essa leitura mudou minha perspectiva sobre tudo. Valeu cada centavo!",
                "Melhor investimento que fiz nos últimos tempos. Revelador!",
                "Finalmente entendi o que estava bloqueando minha vida. Gratidão!",
                "Chorei ao ler... tocou pontos que ninguém nunca tinha percebido.",
                "Estou sem palavras com o quanto essa leitura foi precisa. 100% real.",
                "Nunca imaginei que uma leitura online pudesse ser tão profunda.",
                "A parte sobre meu relacionamento foi de uma precisão assustadora!",
                "Já fiz várias leituras antes, mas essa foi de longe a mais reveladora.",
                "Conseguiu identificar exatamente o que eu precisava ouvir neste momento.",
                "As recomendações da leitura já estão transformando minha vida.",
                "Estava cética no início, mas a leitura me convenceu completamente!",
                "Conseguiu explicar sentimentos que eu nem conseguia colocar em palavras.",
                "Vou seguir todos os conselhos da leitura, cada palavra fez sentido.",
                "Como você sabia tanto sobre meu passado? Impressionante!",
                "Meu caminho espiritual ficou muito mais claro depois dessa leitura.",
                "Senti uma energia incrível enquanto lia cada palavra. Muito obrigado(a)!"
            ];
            
            const customerNames = [
                "Maria S.", "Carlos F.", "Ana L.", "João P.", "Juliana R.",
                "Roberto M.", "Patricia N.", "Gustavo T.", "Fernanda C.", "André L.",
                "Luiza M.", "Ricardo T.", "Camila D.", "Bruno S.", "Amanda P.",
                "Luciana K.", "Felipe R.", "Beatriz M.", "Rafael S.", "Daniela V.",
                "Carolina H.", "Thiago O.", "Isabela F.", "Marcos V.", "Renata C.",
                "Diego S.", "Priscila M.", "Leonardo R.", "Vanessa L.", "Rodrigo P."
            ];
            
            let usedTestimonials = [];
            
            function showSocialNotification() {
                if (currentStep !== 12) return;
                
                // Escolher depoimento não usado recentemente
                let availableTestimonials = testimonialTexts.filter(text => !usedTestimonials.includes(text));
                if (availableTestimonials.length === 0) {
                    usedTestimonials = [];
                    availableTestimonials = testimonialTexts;
                }
                
                const randomTestimonial = availableTestimonials[Math.floor(Math.random() * availableTestimonials.length)];
                const randomName = customerNames[Math.floor(Math.random() * customerNames.length)];
                
                usedTestimonials.push(randomTestimonial);
                
                // Criar notificação
                const notification = document.createElement('div');
                notification.className = 'activity-notification';
                notification.innerHTML = `
                    <div class="activity-dot"></div>
                    <p><span class="name">${randomName}</span>: "${randomTestimonial}"</p>
                    <p class="time">há ${Math.floor(Math.random() * 45) + 1} minutos</p>
                `;
                
                const container = document.getElementById('notification-container') || document.body;
                container.appendChild(notification);
                
                // Mostrar notificação
                setTimeout(() => notification.classList.add('show'), 100);
                
                // Remover após 8 segundos
                setTimeout(() => {
                    notification.classList.remove('show');
                    setTimeout(() => {
                        if (notification.parentNode) {
                            notification.parentNode.removeChild(notification);
                        }
                    }, 500);
                }, 8000);
            }
            
            // ===== SISTEMA DE CARTAS DE TAROT =====
            function shuffleDeck(deck) {
                const shuffled = [...deck];
                for (let i = shuffled.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
                }
                return shuffled;
            }
            
            const shuffledDeck = shuffleDeck(tarotDeck);
            
            function initTarotCards() {
                const tarotCardsContainer = document.querySelector('.tarot-cards');
                if (!tarotCardsContainer) return;
                
                tarotCardsContainer.innerHTML = '';
                const displayCards = shuffledDeck.slice(0, 15); // Aumentado para 15 cartas
                
                displayCards.forEach((card, index) => {
                    const cardElement = document.createElement('div');
                    cardElement.className = 'tarot-card';
                    cardElement.setAttribute('data-card', card.id);
                    cardElement.style.backgroundImage = `url(${cardBackImage})`;
                    cardElement.style.animationDelay = `${index * 0.1}s`;
                    
                    // Criar o elemento do nome da carta, mas mantê-lo oculto inicialmente
                    const cardName = document.createElement('div');
                    cardName.className = 'card-name';
                    cardName.textContent = card.name;
                    cardName.style.display = 'none'; // Completamente oculto inicialmente
                    cardElement.appendChild(cardName);
                    
                    tarotCardsContainer.appendChild(cardElement);
                    
                    cardElement.addEventListener('click', function() {
                        handleCardSelection(this, card);
                    });
                });
            }
            
            function handleCardSelection(cardElement, cardData) {
                if (userChoices.selectedCards.length >= 3 && !cardElement.classList.contains('selected')) {
                    // Efeito visual de aviso
                    cardElement.style.animation = 'shake 0.5s ease-in-out';
                    setTimeout(() => {
                        cardElement.style.animation = '';
                    }, 500);
                    return;
                }
                
                const cardName = cardElement.querySelector('.card-name');
                
                if (cardElement.classList.contains('selected')) {
                    // Desmarcar
                    cardElement.classList.remove('selected');
                    cardElement.style.backgroundImage = `url(${cardBackImage})`;
                    
                    // Ocultar o nome da carta novamente
                    if (cardName) {
                        cardName.style.display = 'none';
                    }
                    
                    const cardId = cardData.id.toString();
                    const index = userChoices.selectedCards.findIndex(item => item.id === cardId);
                    if (index > -1) {
                        userChoices.selectedCards.splice(index, 1);
                    }
                } else {
                    // Marcar
                    cardElement.classList.add('selected');
                    cardElement.style.backgroundImage = `url(${cardData.image})`;
                    
                    // Mostrar o nome da carta
                    if (cardName) {
                        cardName.style.display = 'block';
                    }
                    
                    userChoices.selectedCards.push({
                        id: cardData.id.toString(),
                        name: cardData.name,
                        image: cardData.image
                    });
                }
                
                // Atualizar contador
                const counter = document.getElementById('cardCounter');
                if (counter) {
                    const highlight = counter.querySelector('.highlight');
                    if (highlight) highlight.textContent = userChoices.selectedCards.length;
                }
                
                // Atualizar botão
                const nextBtn = document.querySelector('#step10 .next-btn');
                if (nextBtn) {
                    if (userChoices.selectedCards.length === 3) {
                        nextBtn.removeAttribute('disabled');
                        nextBtn.style.opacity = '1';
                        nextBtn.style.pointerEvents = 'auto';
                    } else {
                        nextBtn.setAttribute('disabled', 'disabled');
                        nextBtn.style.opacity = '0.5';
                        nextBtn.style.pointerEvents = 'none';
                    }
                }
            }
            
            // ===== SISTEMA DE ANIMAÇÃO DE CARREGAMENTO =====
            function animateMysticLoading() {
                const progressBar = document.querySelector('.progress-mystic-bar');
                const loadingTexts = document.querySelectorAll('.loading-text');
                const zodiacSigns = document.querySelectorAll('.zodiac-sign');
                const mysticRevelation = document.querySelector('.mystic-revelation');
                const continueButton = document.querySelector('.continue-button');
                
                function updateLoadingText(index) {
                    document.querySelectorAll('.loading-text.active').forEach(el => {
                        el.classList.remove('active');
                    });
                    
                    if (loadingTexts[index]) {
                        loadingTexts[index].classList.add('active');
                    }
                }
                
                function activateRandomZodiac() {
                    zodiacSigns.forEach(sign => sign.classList.remove('active'));
                    
                    const numSigns = Math.floor(Math.random() * 4) + 2;
                    const activatedIndices = new Set();
                    
                    while (activatedIndices.size < numSigns) {
                        const randomIndex = Math.floor(Math.random() * zodiacSigns.length);
                        activatedIndices.add(randomIndex);
                    }
                    
                    activatedIndices.forEach(index => {
                        zodiacSigns[index].classList.add('active');
                    });
                }
                
                let progress = 0;
                const progressInterval = setInterval(() => {
                    progress += 3;
                    if (progressBar) progressBar.style.width = `${progress}%`;
                    
                    if (progress % 15 === 0) {
                        activateRandomZodiac();
                    }
                    
                    if (progress === 15) updateLoadingText(1);
                    if (progress === 30) updateLoadingText(2);
                    if (progress === 45) updateLoadingText(3);
                    if (progress === 60) updateLoadingText(4);
                    if (progress === 75) updateLoadingText(5);
                    if (progress === 90) updateLoadingText(6);
                    
                    if (progress >= 100) {
                        clearInterval(progressInterval);
                        
                        zodiacSigns.forEach(sign => sign.classList.add('active'));
                        
                        setTimeout(() => {
                            if (mysticRevelation) mysticRevelation.classList.add('show');
                            
                            setTimeout(() => {
                                if (continueButton) {
                                    continueButton.style.opacity = '1';
                                }
                            }, 2000);
                        }, 1000);
                    }
                }, 150);
                
                updateLoadingText(0);
            }
            
            // ===== SISTEMA DE COUNTDOWN =====
            function startCountdown() {
                const countdownElement = document.getElementById('countdown-timer');
                if (!countdownElement) return;
                
                let minutes = 12;
                let seconds = 0;
                
                const countdownInterval = setInterval(() => {
                    if (seconds === 0) {
                        if (minutes === 0) {
                            clearInterval(countdownInterval);
                            countdownElement.textContent = "EXPIRADO";
                            countdownElement.style.background = "linear-gradient(45deg, #ff4757, #ff3742)";
                            return;
                        }
                        minutes--;
                        seconds = 59;
                    } else {
                        seconds--;
                    }
                    
                    countdownElement.textContent = 
                        `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                    
                    // Efeito de urgência nos últimos 3 minutos
                    if (minutes < 3) {
                        countdownElement.style.animation = 'timer-urgency 0.5s infinite alternate';
                    }
                }, 1000);
            }
            
            // ===== SISTEMA DE NAVEGAÇÃO =====
            function goToStep(step) {
                document.getElementById(`step${currentStep}`).classList.remove('active');
                currentStep = step;
                document.getElementById(`step${currentStep}`).classList.add('active');
                updateProgress();
                window.scrollTo({ top: 0, behavior: 'smooth' });
                
                // Ações específicas por etapa
                if (currentStep === 10) {
                    initTarotCards();
                }
                
                if (currentStep === 11) {
                    animateMysticLoading();
                    setTimeout(() => {
                        setupContinueToReadingButton();
                    }, 500);
                }
                
                if (currentStep === 12) {
                    startCountdown();
                    setTimeout(() => {
                        showSocialNotification();
                        setInterval(showSocialNotification, 12000);
                    }, 3000);
                    
                    if (typeof fbq !== 'undefined') {
                        fbq('track', 'InitiateCheckout', {
                            content_name: 'Leitura Premium de Tarot',
                            value: 14.90,
                            currency: 'BRL'
                        });
                    }
                }
            }
            
            function setupContinueToReadingButton() {
                const continueBtn = document.getElementById('continue-to-reading');
                if (continueBtn) {
                    continueBtn.addEventListener('click', function(e) {
                        e.preventDefault();
                        goToStep(12);
                    });
                }
            }
            
            // ===== SISTEMA DE LEITURA PERSONALIZADA =====
            function generatePersonalizedReading() {
                const readingContent = document.getElementById('reading-content');
                if (!readingContent) return;
                
                const userName = userChoices.name || 'Consulente';
                const userNameElement = document.getElementById('user-name');
                if (userNameElement) userNameElement.textContent = userName;
                
                // Criar seção das cartas selecionadas
                let cardsHtml = '<div class="selected-tarot-cards" style="display: flex; justify-content: center; gap: 15px; margin: 30px 0; flex-wrap: wrap;">';
                
                if (userChoices.selectedCards && userChoices.selectedCards.length > 0) {
                    userChoices.selectedCards.forEach((card, index) => {
                        cardsHtml += `
                            <div style="text-align: center; transition: transform 0.3s ease;">
                                <img src="${card.image}" alt="${card.name}" style="width: 120px; height: auto; border-radius: 8px; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);">
                                <p style="margin-top: 10px; font-weight: bold; color: var(--accent);">${card.name}</p>
                                <p style="font-size: 0.9rem; opacity: 0.8;">Carta ${index + 1}</p>
                            </div>
                        `;
                    });
                } else {
                    cardsHtml += '<p style="text-align: center;">Suas cartas místicas foram consultadas durante a leitura.</p>';
                }
                
                cardsHtml += '</div>';
                
                // Leituras baseadas no tema escolhido
                const themeReadings = {
                    'love': {
                        title: '💕 Amor e Relacionamentos - Sua Jornada do Coração',
                        intro: `${userName}, as cartas revelam uma transformação profunda acontecendo em seu campo amoroso neste momento.`,
                        cards: [
                            `<strong>🌟 Primeira Carta - O Passado que Ecoa:</strong> Sua energia amorosa está sendo influenciada por uma conexão do passado que ainda ressoa em seu coração. Não é necessariamente a pessoa em si, mas sim os padrões emocionais que você desenvolveu. As cartas mostram que você tem uma tendência a se entregar completamente, muitas vezes mais do que recebe de volta.`,
                            
                            `<strong>💫 Segunda Carta - O Presente que Transforma:</strong> Existe uma pessoa em sua vida (ou prestes a entrar) que possui uma vibração muito compatível com a sua alma. Esta pessoa pode não ser o "tipo" que você normalmente escolheria, mas as cartas indicam uma conexão profunda e autêntica. Se você está solteiro(a), esta pessoa aparecerá de forma inesperada nos próximos 60 dias.`,
                            
                            `<strong>🔮 Terceira Carta - O Futuro que se Manifesta:</strong> As cartas são claras: você está prestes a entrar em um novo ciclo amoroso onde finalmente receberá o amor na mesma intensidade que oferece. Porém, há uma condição - você precisa parar de aceitar migalhas emocionais e ter coragem de comunicar suas necessidades reais.`
                        ],
                        advice: '<strong>🎯 Orientação Especial das Cartas:</strong> Para atrair o amor verdadeiro, pratique este ritual: todas as noites, antes de dormir, visualize-se envolvido(a) em uma luz rosa dourada. Imagine-se recebendo o amor que merece e sinta essa energia preenchendo seu coração. Este ritual abrirá seu chakra cardíaco para atrair a vibração amorosa correta.'
                    },
                    'career': {
                        title: '💰 Carreira e Prosperidade - Seu Caminho para a Abundância',
                        intro: `${userName}, as cartas indicam um período de grande transformação profissional e financeira se aproximando.`,
                        cards: [
                            `<strong>⚡ Primeira Carta - Talentos Ocultos:</strong> Existe um dom natural seu que está sendo completamente subutilizado em sua situação atual. As cartas revelam que este talento está relacionado à comunicação, criatividade ou ensino. Uma oportunidade para monetizar esta habilidade surgirá nos próximos 90 dias - fique atento aos sinais.`,
                            
                            `<strong>🌊 Segunda Carta - Fluxo Financeiro:</strong> Sua relação com o dinheiro está passando por uma transformação energética profunda. As cartas mostram que você tem crenças limitantes sobre sua capacidade de prosperar, herdadas da família. Uma nova fonte de renda está se abrindo - possivelmente relacionada a algo que você considera "apenas um hobby".`,
                            
                            `<strong>👑 Terceira Carta - Reconhecimento Merecido:</strong> As cartas são enfáticas: você subestima drasticamente seu valor profissional. Este padrão está bloqueando oportunidades incríveis. Nos próximos 6 meses, você receberá uma proposta ou reconhecimento que validará suas habilidades de forma surpreendente.`
                        ],
                        advice: '<strong>🎯 Ritual de Prosperidade das Cartas:</strong> Escreva em um papel dourado todas as suas qualidades profissionais e leia em voz alta todas as manhãs por 21 dias. Termine sempre com: "Eu mereço abundância e reconhecimento". Este ritual quebrará bloqueios ancestrais e abrirá portais de prosperidade.'
                    },
                    'spiritual': {
                        title: '🌟 Despertar Espiritual - Sua Missão de Alma',
                        intro: `${userName}, você está passando por um despertar espiritual acelerado, e as cartas revelam sua verdadeira missão.`,
                        cards: [
                            `<strong>🔮 Primeira Carta - Conexões Superiores:</strong> Você possui uma conexão natural com planos superiores que vem se intensificando. Seus guias espirituais têm tentado se comunicar através de números repetidos, sonhos vívidos e "coincidências" impossíveis. Sua intuição está 90% correta - confie mais nela.`,
                            
                            `<strong>✨ Segunda Carta - Dons Latentes:</strong> As cartas revelam que você possui habilidades mediúnicas/intuitivas extraordinárias que foram reprimidas na infância por ambientes céticos. Estes dons estão despertando agora porque chegou sua hora de usá-los para ajudar outros. Você já sentiu "coisas" antes delas acontecerem.`,
                            
                            `<strong>🌈 Terceira Carta - Propósito Revelado:</strong> Sua missão espiritual é clara: você veio para ser um catalisador de cura emocional para outras pessoas. As experiências difíceis que viveu foram preparação para esta missão. Nos próximos meses, pessoas começarão a procurá-lo naturalmente para conselhos.`
                        ],
                        advice: '<strong>🎯 Prática Espiritual Personalizada:</strong> Dedique 15 minutos diários à meditação silenciosa, prestando atenção aos pensamentos que surgem espontaneamente. Anote-os em um diário espiritual. Em 30 dias, padrões proféticos se revelarão, confirmando sua conexão especial.'
                    },
                    'health': {
                        title: '🌿 Cura Energética - Regeneração Completa',
                        intro: `${userName}, as cartas mostram um processo de cura profunda acontecendo em todos os níveis do seu ser.`,
                        cards: [
                            `<strong>💫 Primeira Carta - Bloqueios Identificados:</strong> As cartas localizam bloqueios energéticos principalmente na região do plexo solar, relacionados a experiências de desvalorização e críticas excessivas. Estes bloqueios podem estar se manifestando como ansiedade, problemas digestivos ou sensação de "nó na garganta".`,
                            
                            `<strong>🌱 Segunda Carta - Reconexão Natural:</strong> Seu corpo etérico está pedindo urgentemente mais contato com elementos naturais. Especificamente: água corrente (rios, cachoeiras) e terra (jardins, plantas). Sua energia vital está sendo drenada por ambientes urbanos em excesso.`,
                            
                            `<strong>🦋 Terceira Carta - Transformação Celular:</strong> Um padrão de autocrítica destrutiva está literalmente afetando sua vitalidade física. As cartas mostram que palavras negativas que você dirige a si mesmo(a) estão criando toxinas energéticas. Mudar seu diálogo interno transformará sua saúde em 60 dias.`
                        ],
                        advice: '<strong>🎯 Ritual de Cura Energética:</strong> Por 21 dias consecutivos, antes de dormir, visualize uma luz dourada descendo do universo, entrando pelo topo de sua cabeça e percorrendo cada célula do seu corpo, dissolvendo toda energia negativa. Este ritual ativará sua capacidade natural de autocura.'
                    },
                    'family': {
                        title: '👨‍👩‍👧‍👦 Laços Familiares - Cura Ancestral',
                        intro: `${userName}, as cartas revelam padrões familiares profundos que estão influenciando sua vida atual de formas que você nem imagina.`,
                        cards: [
                            `<strong>🧬 Primeira Carta - Herança Ancestral:</strong> Existe um padrão comportamental sendo repetido em sua linhagem há pelo menos 3 gerações. Este padrão está relacionado a dificuldades em receber amor ou prosperidade. Você foi escolhido(a) pela sua alma para quebrar este ciclo familiar.`,
                            
                            `<strong>👵 Segunda Carta - Proteção Ancestral:</strong> Uma figura feminina da sua família que já partiu (possivelmente avó ou bisavó) está atuando como guia espiritual para você. Ela envia sinais através de perfumes inexplicáveis, objetos que aparecem ou sonhos reconfortantes. Ela aprova suas escolhas atuais.`,
                            
                            `<strong>🕊️ Terceira Carta - Perdão Necessário:</strong> Há uma situação familiar que precisa de perdão urgente - pode ser perdoar alguém ou pedir perdão. Esta energia incompleta está drenando sua força vital. A resolução trará uma sensação de liberdade que você não sente há anos.`
                        ],
                        advice: '<strong>🎯 Ritual de Cura Familiar:</strong> Escreva uma carta para a pessoa com quem precisa fazer as pazes (mesmo que já tenha partido), expressando tudo que ficou por dizer. Depois, queime o papel com amor e visualize as cinzas se transformando em luz dourada. Este ritual libertará ambas as almas.'
                    },
                    'future': {
                        title: '🔮 Visões do Futuro - Seu Destino Revelado',
                        intro: `${userName}, as cartas abrem um portal temporal revelando eventos e oportunidades que se aproximam.`,
                        cards: [
                            `<strong>⏰ Primeira Carta - Próximos 3 Meses:</strong> Uma oportunidade inesperada chegará através de uma pessoa do seu passado ou alguém com nome similar a alguém importante da sua vida. Esta oportunidade está conectada ao seu crescimento pessoal e pode envolver mudança de cidade ou novo círculo social.`,
                            
                            `<strong>🌟 Segunda Carta - Próximos 6 Meses:</strong> As cartas mostram um período de reconhecimento e colheita dos esforços que você vem plantando silenciosamente. Algo que você começou como "teste" ou "experiência" se tornará uma fonte importante de realização pessoal e possivelmente financeira.`,
                            
                            `<strong>🦋 Terceira Carta - Próximo Ano:</strong> Uma transformação completa na sua identidade está programada. Você se tornará uma versão mais autêntica e poderosa de si mesmo(a). Pessoas que hoje não te valorizam ficarão surpresas com sua evolução. Um novo ciclo de vida começa oficialmente.`
                        ],
                        advice: '<strong>🎯 Preparação para o Destino:</strong> Mantenha um diário de manifestações: anote diariamente 3 coisas que deseja que aconteçam e 3 coisas pelas quais é grato(a). Revise mensalmente - você ficará impressionado(a) com a precisão das suas manifestações.'
                    }
                };
                
                // Escolher leitura baseada no tema
                const theme = userChoices.tema || 'spiritual';
                const readingData = themeReadings[theme] || themeReadings.spiritual;
                
                // Personalização baseada nas outras escolhas
                let personalizedContent = '';
                
                // Adicionar cartas escolhidas
                personalizedContent += cardsHtml;
                
                // Adicionar título e introdução
                personalizedContent += `<h3 style="color: var(--accent); margin: 30px 0 20px;">${readingData.title}</h3>`;
                personalizedContent += `<p style="font-size: 1.1rem; margin-bottom: 25px;">${readingData.intro}</p>`;
                
                // Adicionar interpretação das cartas
                for (let i = 0; i < readingData.cards.length; i++) {
                    personalizedContent += `<div style="background: rgba(30, 10, 41, 0.4); border-left: 4px solid var(--accent); padding: 20px; margin: 20px 0; border-radius: 8px;"><p style="margin: 0;">${readingData.cards[i]}</p></div>`;
                }
                
                // Adicionar personalização baseada na data de nascimento
                if (userChoices.birthDate) {
                    const birthDate = new Date(userChoices.birthDate);
                    const day = birthDate.getDate();
                    const month = birthDate.getMonth() + 1;
                    
                    personalizedContent += `<div style="background: rgba(124, 42, 144, 0.2); border: 1px solid var(--accent); padding: 20px; margin: 25px 0; border-radius: 10px;">`;
                    personalizedContent += `<h4 style="color: var(--accent); margin-bottom: 15px;">🔢 Análise Numerológica Pessoal</h4>`;
                    
                    if (day <= 10) {
                        personalizedContent += `<p>Seu dia de nascimento (${day}) revela uma conexão poderosa com o elemento Água, governado pela Lua. Isso explica sua sensibilidade emocional aguçada e capacidade natural de sentir as energias ao seu redor. Você é altamente intuitivo(a) e frequentemente "sabe" coisas sem explicação lógica.</p>`;
                    } else if (day <= 20) {
                        personalizedContent += `<p>Seu dia de nascimento (${day}) mostra uma forte conexão com o elemento Fogo, governado pelo Sol. Isso explica sua natureza apaixonada e capacidade natural de inspirar e liderar outros. Você possui uma energia magnética que atrai pessoas e oportunidades.</p>`;
                    } else {
                        personalizedContent += `<p>Seu dia de nascimento (${day}) indica uma conexão especial com o elemento Terra, governado por Saturno. Isso explica sua praticidade natural e capacidade excepcional de manifestar resultados concretos. Você tem o dom de transformar ideias em realidade.</p>`;
                    }
                    
                    if (month >= 3 && month <= 5) {
                        personalizedContent += `<p>Nascendo na primavera (mês ${month}), você carrega a energia do renascimento e novos começos. Este é um momento perfeito em sua vida para plantar sementes de mudança que florescerão nos próximos meses.</p>`;
                    } else if (month >= 6 && month <= 8) {
                        personalizedContent += `<p>Nascendo no verão (mês ${month}), você possui uma energia solar intensa que ilumina a vida das pessoas ao seu redor. Sua missão está relacionada a trazer alegria e inspiração para o mundo.</p>`;
                    } else if (month >= 9 && month <= 11) {
                        personalizedContent += `<p>Nascendo no outono (mês ${month}), você carrega a sabedoria da transformação e da colheita. Este período da sua vida representa a colheita de tudo que plantou nos últimos anos.</p>`;
                    } else {
                        personalizedContent += `<p>Nascendo no inverno (mês ${month}), você possui uma conexão natural com o mundo espiritual e a introspecção. Sua alma é naturalmente sábia e capaz de enxergar além das aparências.</p>`;
                    }
                    personalizedContent += `</div>`;
                }
                
                // Adicionar conexão entre as cartas escolhidas e o perfil
                personalizedContent += `<div style="background: linear-gradient(135deg, rgba(124, 42, 144, 0.2), rgba(255, 157, 0, 0.1)); border: 2px solid var(--accent); padding: 25px; margin: 30px 0; border-radius: 15px; text-align: center;">`;
                personalizedContent += `<h4 style="color: var(--gold); margin-bottom: 20px;">🌟 Síntese Energética Personalizada</h4>`;
                personalizedContent += `<p class="mystic-quote" style="font-size: 1.1rem; margin: 0;">Quando conectamos suas três cartas escolhidas com sua vibração numerológica e momento de vida atual, um padrão cósmico claro emerge: <span style="color: var(--accent); font-weight: 700;">você está no início de um ciclo de 7 anos que promete realizações extraordinárias</span>, mas apenas se você tiver coragem de enfrentar seus medos mais profundos e abraçar sua verdadeira essência.</p>`;
                personalizedContent += `</div>`;
                
                // Adicionar conselhos específicos
                personalizedContent += `<div style="background: rgba(46, 213, 115, 0.1); border-left: 4px solid var(--success); padding: 25px; margin: 25px 0; border-radius: 8px;">`;
                personalizedContent += `<h4 style="color: var(--success); margin-bottom: 15px;">🎯 Plano de Ação Personalizado</h4>`;
                personalizedContent += `<p>${readingData.advice}</p>`;
                personalizedContent += `</div>`;
                
                // Adicionar mensagem final personalizada baseada na escolha inicial
                let finalMessage = '';
                if (userChoices.qualificacao === 'sim') {
                    finalMessage = `<p><strong>${userName}</strong>, suas escolhas revelaram que você está vivendo um momento de transformação urgente. As cartas confirmam que você tem uma sensibilidade espiritual extraordinária e que respostas importantes chegaram até você através desta leitura. Confie em sua intuição - ela nunca te decepciona.</p>`;
                } else if (userChoices.qualificacao === 'bloqueado') {
                    finalMessage = `<p><strong>${userName}</strong>, a sensação de estar "bloqueado(a)" que você mencionou é na verdade sua alma pedindo para você parar de lutar contra sua natureza verdadeira. As cartas mostram que você está sendo guiado(a) para um caminho mais autêntico. Pare de se forçar e permita que a vida flua.</p>`;
                } else if (userChoices.qualificacao === 'sinais') {
                    finalMessage = `<p><strong>${userName}</strong>, os sinais que você tem percebido são reais e confirmam sua conexão especial com planos superiores. As cartas validam que você está sendo preparado(a) para uma missão importante. Continue prestando atenção - mais revelações virão.</p>`;
                } else {
                    finalMessage = `<p><strong>${userName}</strong>, mesmo tendo vindo aqui "por curiosidade", as cartas revelam que sua alma foi magneticamente atraída para esta leitura. Nada é coincidência no universo - você precisava ouvir exatamente estas palavras neste momento da sua vida.</p>`;
                }
                
                personalizedContent += finalMessage;
                
                // Mensagem final inspiradora
                personalizedContent += `<div style="text-align: center; margin: 40px 0 20px; padding: 30px; background: var(--gradient); border-radius: 15px; color: white;">`;
                personalizedContent += `<h4 style="color: white; margin-bottom: 20px;">✨ Última Mensagem das Cartas</h4>`;
                personalizedContent += `<p style="font-size: 1.1rem; line-height: 1.6; margin: 0;"><strong>Lembre-se sempre:</strong> você não chegou até esta leitura por acaso. O universo conspirou para que você recebesse exatamente as palavras que sua alma precisava ouvir neste momento. As cartas já plantaram sementes de transformação em sua consciência - agora é hora de regá-las com ação e fé.</p>`;
                personalizedContent += `<p style="margin: 20px 0 0; font-style: italic; opacity: 0.9;">Que sua jornada seja iluminada pela sabedoria que acabou de receber. 🌟</p>`;
                personalizedContent += `</div>`;
                
                // Inserir todo o conteúdo
                readingContent.innerHTML = personalizedContent;
            }
            
            // ===== EVENT LISTENERS PRINCIPAIS =====
            
            // Seleção de opções
            document.addEventListener('click', function(e) {
                if (e.target.classList.contains('option')) {
                    const parent = e.target.parentElement;
                    parent.querySelectorAll('.option').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    
                    e.target.classList.add('selected');
                    
                    // Salvar escolhas baseado na etapa atual
                    const value = e.target.getAttribute('data-value');
                    if (currentStep === 1) {
                        userChoices.qualificacao = value;
                        const nextBtn = document.querySelector('#step1 .next-btn');
                        if (nextBtn) {
                            nextBtn.style.opacity = '1';
                            nextBtn.style.pointerEvents = 'auto';
                        }
                        
                        setTimeout(() => {
                            const message = document.getElementById('message1');
                            if (message) message.classList.add('show');
                        }, 1000);
                        
                    } else if (currentStep === 2) {
                        userChoices.preparacao = value;
                    } else if (currentStep === 3) {
                        userChoices.estado = value;
                    } else if (currentStep === 4) {
                        userChoices.tema = value;
                    } else if (currentStep === 5) {
                        userChoices.gatilho = value;
                    } else if (currentStep === 6) {
                        userChoices.gender = value;
                    } else if (currentStep === 8) {
                        userChoices.coracao = value;
                    } else if (currentStep === 9) {
                        userChoices.frase = value;
                    }
                }
            });
            
            // Botões de próximo passo
            document.addEventListener('click', function(e) {
                if (e.target.classList.contains('next-btn')) {
                    e.preventDefault();
                    
                    // Validações específicas
                    if (currentStep === 1 && !userChoices.qualificacao) {
                        alert('Por favor, escolha uma das opções para continuar.');
                        return;
                    }
                    
                    if (currentStep === 6) {
                        const nameInput = document.getElementById('first-name');
                        if (!nameInput.value.trim()) {
                            alert('Por favor, digite seu nome para continuar.');
                            return;
                        }
                        userChoices.name = nameInput.value.trim();
                    }
                    
                    if (currentStep === 7) {
                        const dateInput = document.getElementById('birth-date');
                        if (!dateInput.value) {
                            alert('Por favor, informe sua data de nascimento para continuar.');
                            return;
                        }
                        userChoices.birthDate = dateInput.value;
                    }
                    
                    if (currentStep === 10 && userChoices.selectedCards.length < 3) {
                        alert('Por favor, selecione 3 cartas para continuar.');
                        return;
                    }
                    
                    // Avançar para próxima etapa
                    goToStep(currentStep + 1);
                }
            });
            
            // Botão de pagamento
            document.addEventListener('click', function(e) {
                if (e.target.id === 'payment-btn') {
                    e.preventDefault();
                    
                    if (typeof fbq !== 'undefined') {
                        fbq('track', 'InitiateCheckout', {
                            content_name: 'Leitura Premium de Tarot',
                            value: 14.90,
                            currency: 'BRL'
                        });
                    }
                    
                    // Salvar dados do usuário
                    localStorage.setItem('tarotUserChoices', JSON.stringify(userChoices));
                    
                    // Redirecionar para pagamento
                    window.location.href = 'https://pay.cakto.com.br/ubs8ik4_397207';
                }
            });
            
            // Botão de reiniciar
            document.addEventListener('click', function(e) {
                if (e.target.id === 'restart-btn') {
                    e.preventDefault();
                    
                    // Reset completo
                    currentStep = 1;
                    Object.keys(userChoices).forEach(key => {
                        if (key === 'selectedCards') {
                            userChoices[key] = [];
                        } else {
                            userChoices[key] = '';
                        }
                    });
                    
                    // Limpar seleções visuais
                    document.querySelectorAll('.option, .tarot-card').forEach(el => {
                        el.classList.remove('selected');
                    });
                    
                    // Limpar inputs
                    const inputs = document.querySelectorAll('input[type="text"], input[type="date"]');
                    inputs.forEach(input => input.value = '');
                    
                    // Voltar ao início
                    goToStep(1);
                }
            });
            
            // ===== FUNÇÕES GLOBAIS PARA O HTML =====
            window.closeExitPopup = closeExitPopup;
            window.acceptExitOffer = acceptExitOffer;
            
            // ===== INICIALIZAÇÃO =====
            
            // Verificar se voltou do pagamento
            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.get('check_payment')) {
                const savedChoices = localStorage.getItem('tarotUserChoices');
                if (savedChoices) {
                    Object.assign(userChoices, JSON.parse(savedChoices));
                    goToStep(13);
                    generatePersonalizedReading();
                }
            }
            
            // Criar elementos visuais
            createStars();
            updateProgress();
            
            // Iniciar timers e rotações
            setInterval(updateBannerTimer, 1000);
            setInterval(updateScarcityIndicators, 30000);
            setInterval(rotateTestimonials, 5000);
            
            // Adicionar CSS adicional para animações
            const additionalCSS = `
                <style>
                .progress-mystic {
                    width: 80%;
                    height: 10px;
                    margin: 30px auto;
                    background: rgba(62, 27, 71, 0.3);
                    border-radius: 5px;
                    overflow: hidden;
                    position: relative;
                }
                
                .progress-mystic-bar {
                    height: 100%;
                    width: 0%;
                    background: linear-gradient(to right, #7c2a90, #ff9d00);
                    position: relative;
                    border-radius: 5px;
                    transition: width 0.5s ease;
                }
                
                .progress-mystic-bar::after {
                    content: '';
                    position: absolute;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: linear-gradient(to right, transparent, rgba(255, 255, 255, 0.5), transparent);
                    animation: shimmer 2s infinite;
                }
                
                .cosmic-inner-circle {
                    position: absolute;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    width: 80px;
                    height: 80px;
                    border-radius: 50%;
                    background: var(--gradient);
                    animation: inner-spin 8s linear infinite;
                }
                
                .cosmic-symbol {
                    position: absolute;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    width: 50px;
                    height: 50px;
                    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="45" fill="none" stroke="white" stroke-width="2"/><circle cx="50" cy="25" r="8" fill="white"/><circle cx="50" cy="75" r="8" fill="white"/><circle cx="75" cy="50" r="8" fill="white"/><circle cx="25" cy="50" r="8" fill="white"/><path d="M50 5 L50 95 M5 50 L95 50" stroke="white" stroke-width="1" opacity="0.7"/></svg>');
                    background-size: contain;
                    background-repeat: no-repeat;
                    animation: symbol-spin 12s linear infinite;
                }
                
                .cosmic-particles {
                    position: absolute;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    opacity: 0.5;
                    background-image: 
                        radial-gradient(circle at 20% 30%, rgba(255, 255, 255, 0.5) 0%, rgba(255, 255, 255, 0) 1px),
                        radial-gradient(circle at 80% 20%, rgba(255, 255, 255, 0.5) 0%, rgba(255, 255, 255, 0) 1px),
                        radial-gradient(circle at 40% 70%, rgba(255, 255, 255, 0.5) 0%, rgba(255, 255, 255, 0) 1px),
                        radial-gradient(circle at 60% 50%, rgba(255, 255, 255, 0.5) 0%, rgba(255, 255, 255, 0) 1px),
                        radial-gradient(circle at 70% 90%, rgba(255, 255, 255, 0.5) 0%, rgba(255, 255, 255, 0) 1px);
                    background-size: 100% 100%;
                    animation: particles-drift 15s infinite linear;
                }
                
                .cosmic-glow {
                    position: absolute;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    border-radius: 50%;
                    background: radial-gradient(circle, rgba(255, 157, 0, 0.3) 0%, transparent 70%);
                    animation: cosmic-glow 3s infinite alternate;
                }
                
                .loading-messages {
                    text-align: center;
                    margin: 20px 0;
                    min-height: 60px;
                    position: relative;
                }
                
                .loading-text {
                    position: absolute;
                    top: 0;
                    left: 0;
                    right: 0;
                    margin: 0 auto;
                    font-size: 1.1rem;
                    color: rgba(248, 243, 255, 0.9);
                    opacity: 0;
                    transform: translateY(20px);
                    transition: opacity 0.8s ease, transform 0.8s ease;
                }
                
                .loading-text.active {
                    opacity: 1;
                    transform: translateY(0);
                }
                
                .cosmic-signs {
                    display: flex;
                    flex-wrap: wrap;
                    justify-content: center;
                    gap: 15px;
                    margin-top: 30px;
                    margin-bottom: 20px;
                }
                
                .zodiac-sign {
                    font-size: 24px;
                    opacity: 0.3;
                    transition: all 0.5s ease;
                    transform-origin: center;
                    cursor: default;
                }
                
                .zodiac-sign.active {
                    color: var(--accent);
                    opacity: 1;
                    transform: scale(1.5);
                    text-shadow: 0 0 10px rgba(255, 157, 0, 0.7);
                }
                
                @keyframes inner-spin {
                    0% { transform: translate(-50%, -50%) rotate(0deg); }
                    100% { transform: translate(-50%, -50%) rotate(360deg); }
                }
                
                @keyframes symbol-spin {
                    0% { transform: translate(-50%, -50%) rotate(0deg); }
                    100% { transform: translate(-50%, -50%) rotate(-360deg); }
                }
                
                @keyframes particles-drift {
                    0% { background-position: 0 0; }
                    100% { background-position: 100px 100px; }
                }
                
                @keyframes cosmic-glow {
                    0% { opacity: 0.5; }
                    100% { opacity: 1; }
                }
                
                @keyframes shake {
                    0%, 100% { transform: translateX(0); }
                    10%, 30%, 50%, 70%, 90% { transform: translateX(-3px); }
                    20%, 40%, 60%, 80% { transform: translateX(3px); }
                }
                
                .tarot-cards {
                    display: flex;
                    flex-wrap: wrap;
                    justify-content: center;
                    gap: 15px;
                    margin: 40px 0;
                    max-width: 700px;
                    margin-left: auto;
                    margin-right: auto;
                }
                </style>
            `;
            document.head.insertAdjacentHTML('beforeend', additionalCSS);
            
            console.log('🔮 Site de Tarot Premium carregado com sucesso!');
        });
    </script>
</body>
</html>